<!DOCTYPE html>


<html lang="zh-hanzi" >


<head>
  <meta charset="utf-8" />
    
  <meta name="description" content="不要尽力而为，而要全力以赴，即使没有出色的外表和能力，也要压倒一切的霸气，用自己的光，照亮自己的路。" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
  <title>
     恁村扛把子
  </title>
  <meta name="generator" content="hexo-theme-yilia-plus">
  
  <link rel="shortcut icon" href="/favicon.ico" />
  
  <link rel="stylesheet" href="/dist/main.css">
  <link rel="stylesheet" href="/css/custom.css">
  
  <script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script>
  
  

  

</head>

</html>

<body>
  <div id="app">
    <main class="content on">
      
<section class="cover">
    
      
      <a class="forkMe" href="https://github.com/fangsong0517/fangsong0517.github.io"
        target="_blank"><img width="149" height="149" src="/images/forkme.png"
          class="attachment-full size-full" alt="Fork me on GitHub" data-recalc-dims="1"></a>
    
  <div class="cover-frame">
    <div class="bg-box">
      <img src="/images/cover1.jpg" alt="image frame" />
    </div>
    <div class="cover-inner text-center text-white">
      <h1><a href="/">恁村扛把子</a></h1>
      <div id="subtitle-box">
        
        <span id="subtitle"></span>
        
      </div>
      <div>
        
      </div>
    </div>
  </div>
  <div class="cover-learn-more">
    <a href="javascript:void(0)" class="anchor"><i class="ri-arrow-down-line"></i></a>
  </div>
</section>



<script src="https://cdn.jsdelivr.net/npm/typed.js@2.0.11/lib/typed.min.js"></script>

<div id="main">
  <section class="outer">
  <article class="articles">
    
    
    
    
    <article id="post-Mynotes/Hzoj_Code/README" class="article article-type-post" itemscope
  itemprop="blogPost" data-scroll-reveal>

  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2020/05/29/Mynotes/Hzoj_Code/README/"
    >Mynotes/Hzoj_Code/README</a> 
</h2>
 

    </header>
    

    
    <div class="article-meta">
      <a href="/2020/05/29/Mynotes/Hzoj_Code/README/" class="article-date">
  <time datetime="2020-05-29T06:22:35.931Z" itemprop="datePublished">2020-05-29</time>
</a>
      
      
      
      
    </div>
    

    

    
    <div class="article-entry" itemprop="articleBody">
      
      

      
      <p>[TOC]</p>
<h2 id="目录："><a href="#目录：" class="headerlink" title="目录："></a>目录：</h2><p><a href="#递归深搜广搜">递归深搜广搜</a></p>
<p><a href="#贪心">贪心</a></p>
<p><a href="#枚举">枚举</a></p>
<p><a href="#二分">二分</a></p>
<p><a href="#单调队列">单调队列</a></p>
<p><a href="#单调栈">单调栈</a></p>
<p><a href="#背包">背包</a></p>
<p><a href="#动态规划">动态规划</a></p>
<h2 id="递归深搜广搜"><a href="#递归深搜广搜" class="headerlink" title="递归深搜广搜"></a>递归深搜广搜</h2><h4 id="83-N分"><a href="#83-N分" class="headerlink" title="#83.N分"></a>#<code>83.N分</code></h4><p><a href="http://oj.haizeix.com/problem/83" target="_blank" rel="noopener">题目</a></p>
<p><strong>题解:</strong></p>
<p>层数是固定的，后面的数是&gt;=前面的数，输出方法总数；</p>
<p>每一层从谁开始，选多少数，还应该选几个；</p>
<h4 id="235-递归实现指数型枚举"><a href="#235-递归实现指数型枚举" class="headerlink" title="#235.递归实现指数型枚举"></a>#<code>235.递归实现指数型枚举</code></h4><p><a href="http://oj.haizeix.com/problem/235" target="_blank" rel="noopener">题目</a></p>
<p><strong>题解：</strong></p>
<p><img src="%E9%80%92%E5%BD%92%E4%B8%8EDFS.assets/2020-03-12%2011-12-06%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE.png" alt=""><br><img src="%E9%80%92%E5%BD%92%E4%B8%8EDFS.assets/2020-03-12%2011-13-24%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE.png" alt=""></p>
<p>如果第一层是１那么第二层就应该从２开始，如果第一层是２那么下一层就应该从３开始；<br>递归函数：func(int s), s是从谁开始<br>n, num[15]记录，cnt 计数<br>保证下一层比本层大所以进行func(i + 1)<br><font color = red><strong>他这是每次选择一个，就输出num[];</strong></font></p>
<h4 id="236-递归实现组合型枚举"><a href="#236-递归实现组合型枚举" class="headerlink" title="#236.递归实现组合型枚举"></a>#<code>236.递归实现组合型枚举</code></h4><p><a href="http://oj.haizeix.com/problem/236" target="_blank" rel="noopener">题目</a></p>
<p><strong>题解：</strong></p>
<p><font color = red><strong>什么时候能选够ｍ个数就输出num[]</strong></font></p>
<h4 id="237-递归实现排列型枚举"><a href="#237-递归实现排列型枚举" class="headerlink" title="#237.递归实现排列型枚举"></a>#<code>237.递归实现排列型枚举</code></h4><p><a href="http://oj.haizeix.com/problem/237" target="_blank" rel="noopener">题目</a></p>
<p><strong>题解：</strong><br>后面的数可以比前面数小，与前两个题不同，所以每次遍历要从１～ｎ，为了避免重复，开一个标记组<br><font color = red><strong>也是选择ｍ个数输出num[]，避免重复要标记</strong></font><br>回溯的时候标记别忘取消了；</p>
<h4 id="240-图形打印四"><a href="#240-图形打印四" class="headerlink" title="#240.图形打印四"></a>#<code>240.图形打印四</code></h4><p><a href="http://oj.haizeix.com/problem/240" target="_blank" rel="noopener">题目</a></p>
<p><strong>题解：</strong></p>
<p><img src="%E9%80%92%E5%BD%92%E4%B8%8EDFS.assets/2020-03-12%2010-27-09%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE.png" alt=""></p>
<p>当ｎ= 1时边长为１，当ｎ= 2时边长为３,当ｎ=3时，边长为９，….27…81…243….</p>
<p>可以由左上角对五个位置进行填充，可得</p>
<p>设边长为num[n]</p>
<p>左上角:(<code>x, y</code>);</p>
<p>右上角:(<code>x, y + num[n]/3*2</code>)</p>
<p>左下角:(<code>x + num[n]/3*2, y</code>)</p>
<p>右下角:(<code>x + num[n]/3*2, y + num[n]/3*2</code>)</p>
<p>中心：(<code>x + num[n]/3, y + num[n]/3</code>)</p>
<p>主要思路是将从１～７个全部打印出来，最后进行选择</p>
<p>当递归到１时将二维字符数组对应的ｘ, y打印成’X’，也就是递归出口；</p>
<p>因为２是由１转变过来的，３是由２转变过来的，４是由３转变过来的，即可递归回溯</p>
<h4 id="396填涂颜色"><a href="#396填涂颜色" class="headerlink" title="#396填涂颜色"></a>#<code>396填涂颜色</code></h4><p><a href="http://oj.haizeix.com/problem/396" target="_blank" rel="noopener">题目</a></p>
<p>题解: 可以先在外围加一堵0墙，然后进行对外围搜0，然后都标记为３，最后将全部扫一遍，将０变为２，３变０即可：</p>
<blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&gt;0 0 0 0 0 0</span><br><span class="line">&gt;0 0 1 1 1 1</span><br><span class="line">&gt;0 1 0 0 0 1</span><br><span class="line">&gt;1 0 0 0 0 1</span><br><span class="line">&gt;1 0 0 0 0 1</span><br><span class="line">&gt;1 1 1 1 1 1</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&gt;0 0 0 0 0 0 0 0 //先在外围加一堵0墙</span><br><span class="line">&gt;0 0 0 1 1 1 1 0//然后进行对外围搜0，然后都标记为３</span><br><span class="line">&gt;0 0 1 0 0 0 1 0</span><br><span class="line">&gt;0 1 0 0 0 0 1 0</span><br><span class="line">&gt;0 1 0 0 0 0 1 0</span><br><span class="line">&gt;0 1 1 1 1 1 1 0</span><br><span class="line">&gt;0 0 0 0 0 0 0 0</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&gt;0 0 0 0 0 0//最后将全部扫一遍，将０变为２，３变０即可：</span><br><span class="line">&gt;0 0 1 1 1 1</span><br><span class="line">&gt;0 1 1 2 2 1</span><br><span class="line">&gt;1 1 2 2 2 1</span><br><span class="line">&gt;1 2 2 2 2 1</span><br><span class="line">&gt;1 1 1 1 1 1</span><br></pre></td></tr></table></figure>
</blockquote>
<h4 id="397僵尸来袭"><a href="#397僵尸来袭" class="headerlink" title="#397僵尸来袭"></a>#<code>397僵尸来袭</code></h4><p><a href="http://oj.haizeix.com/problem/397" target="_blank" rel="noopener">题目</a></p>
<p>题解: </p>
<p>直接对二维数组遍历，在便利的同时如果非０那就开始搜索，进行吧能搜到的所有僵尸变为０，直至最后，记录了几次调用函数搜索即可！</p>
<p>模拟一下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">0 1 2 3 4 0</span><br><span class="line">1 0 0 0 0 0</span><br><span class="line">2 9 3 0 2 4</span><br><span class="line">0 0 2 0 2 8</span><br><span class="line">1 0 0 0 0 0</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">0 0 0 0 0 0</span><br><span class="line">1 0 0 0 0 0</span><br><span class="line">2 9 3 0 2 4      第一次</span><br><span class="line">0 0 2 0 2 8</span><br><span class="line">1 0 0 0 0 0</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">0 0 0 0 0 0</span><br><span class="line">0 0 0 0 0 0</span><br><span class="line">0 0 0 0 2 4      第二次</span><br><span class="line">0 0 0 0 2 8</span><br><span class="line">1 0 0 0 0 0</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">0 0 0 0 0 0</span><br><span class="line">0 0 0 0 0 0</span><br><span class="line">0 0 0 0 0 0      第三次</span><br><span class="line">0 0 0 0 0 0</span><br><span class="line">1 0 0 0 0 0</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">0 0 0 0 0 0</span><br><span class="line">0 0 0 0 0 0</span><br><span class="line">0 0 0 0 0 0      第四次</span><br><span class="line">0 0 0 0 0 0</span><br><span class="line">0 0 0 0 0 0</span><br></pre></td></tr></table></figure>

<h4 id="404-01迷宫简易版"><a href="#404-01迷宫简易版" class="headerlink" title="#404  01迷宫简易版"></a>#<code>404  01迷宫简易版</code></h4><p><a href="http://oj.haizeix.com/problem/404" target="_blank" rel="noopener">题目</a></p>
<p>题解: </p>
<p>如果上一次坐标与本次坐标不同即可走，然后把标记数组置为１，加数；</p>
<p>此题用到了记录数组；切记刚开始坐标对应的标记数组应该置为一；</p>
<h4 id="405-01迷宫"><a href="#405-01迷宫" class="headerlink" title="#405  01迷宫"></a>#<code>405  01迷宫</code></h4><p><a href="http://oj.haizeix.com/problem/405" target="_blank" rel="noopener">题目</a></p>
<p>题解: </p>
<p>本体由于数量大，按正常思路走会超时，所以本题使用了用队列记录了所要能到达的坐标位置，计数，到一小块结束后，将队列所存的坐标对应全赋值为这一块计数的那个值，继续同理操作，到最后只要索引下表就可以快速找到多大；</p>
<h4 id="406水坑数量"><a href="#406水坑数量" class="headerlink" title="#406水坑数量"></a>#<code>406水坑数量</code></h4><p><a href="http://oj.haizeix.com/problem/406" target="_blank" rel="noopener">题目</a></p>
<p>题解: </p>
<p>本题同３９７僵尸来袭，都是直接遍历二维数组，符合条件就直接搜进行原图标记，记录搜了几波就ＯＫ了；</p>
<h4 id="534体积"><a href="#534体积" class="headerlink" title="#534体积"></a>#<code>534体积</code></h4><p><a href="http://oj.haizeix.com/problem/534" target="_blank" rel="noopener">题目</a></p>
<p>题解: </p>
<p>此题就是235的改进，每走一步记录所走的当前路径的和，然后到最后去重，去重的时候可以使用标记数组，用sun当索引进行标记,记录最后有多少数就是表示不同提及的组合数</p>
<h4 id="535瓷砖"><a href="#535瓷砖" class="headerlink" title="#535瓷砖"></a>#<code>535瓷砖</code></h4><p><a href="http://oj.haizeix.com/problem/535" target="_blank" rel="noopener">题目</a></p>
<p>题解: </p>
<p>直接DFS,先找到开始坐标，进行DFS,能走的地方一直走，每走一步记录一步sum++;最终sum就是最大能走多少；</p>
<h4 id="536-最大黑色区域"><a href="#536-最大黑色区域" class="headerlink" title="#536 最大黑色区域"></a>#<code>536 最大黑色区域</code></h4><p><a href="http://oj.haizeix.com/problem/536" target="_blank" rel="noopener">题目</a></p>
<p>题解: </p>
<p>从头开始走，每当能走时进行搜索记录本次搜索的步数，然后每一波搜索记录一下最大的值，然后就得到最大黑色区域的面积；</p>
<h4 id="537门票问题"><a href="#537门票问题" class="headerlink" title="#537门票问题"></a>#<code>537门票问题</code></h4><p><a href="http://oj.haizeix.com/problem/537" target="_blank" rel="noopener">题目</a></p>
<p>题解: </p>
<p>改进的236题;首先有一个记录路径的，而且还要记录元音和辅音有多少个为了当走了合法left时而且元音辅音符合条件时才能满足打印情况，就是这样。</p>
<h4 id="538图的遍历"><a href="#538图的遍历" class="headerlink" title="#538图的遍历"></a>#<code>538图的遍历</code></h4><p><a href="http://oj.haizeix.com/problem/538" target="_blank" rel="noopener">题目</a></p>
<p>已知结点个数，必须整一个标记数组check[], 当没走过的进行遍历周围所能到达的</p>
<p><img src="%E9%80%92%E5%BD%92%E4%B8%8EDFS.assets/Whiteboard%5B2%5D-01.png" alt="Whiteboard[2]-01"></p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">func</span><span class="params">(<span class="keyword">int</span> x)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(flag == <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"-"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    flag = <span class="number">1</span>;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; x;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span>(num[x][i] == <span class="number">1</span> &amp;&amp; check[i] == <span class="number">0</span>) &#123;</span><br><span class="line">            check[i] = <span class="number">1</span>;</span><br><span class="line">            func(i);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="540生日购物"><a href="#540生日购物" class="headerlink" title="#540生日购物"></a>#<code>540生日购物</code></h4><p><a href="http://oj.haizeix.com/problem/540" target="_blank" rel="noopener">题目</a></p>
<p>由于题目N &lt;= 40, 最大40由于很大,达到2 ^ 40多；会超时，因此将其分为两部分进行处理，一部分0 ~ 20 ,21~40进行处理；和235题近似</p>
<p><img src="%E9%80%92%E5%BD%92%E4%B8%8EDFS.assets/image-20200327173733020.png" alt="image-20200327173733020"> </p>
<h4 id="541相遇问题"><a href="#541相遇问题" class="headerlink" title="#541相遇问题"></a>#<code>541相遇问题</code></h4><p><a href="http://oj.haizeix.com/problem/541" target="_blank" rel="noopener">题目</a></p>
<p>对于每个人来讲，把他走到ｎ号点的时间都存起来，最后会得到两个人的数组，找两个数组中是否有一样的；邻接矩阵进行存储；</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cin</span> &gt;&gt; a &gt;&gt; b &gt;&gt; c &gt;&gt; d;</span><br><span class="line">atime[<span class="number">0</span>][a][b] = atime[<span class="number">0</span>][b][a] = c;</span><br><span class="line">atime[<span class="number">1</span>][a][b] = atime[<span class="number">1</span>][b][a] = d;</span><br></pre></td></tr></table></figure>

<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> n, m, atime[<span class="number">2</span>][<span class="number">20</span>][<span class="number">20</span>], ans[<span class="number">2</span>][<span class="number">100000</span>], ans_num[<span class="number">2</span>];</span><br><span class="line"><span class="comment">//atime 存时间, ans存到达所需要的时间，ans_num计数</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">func</span><span class="params">(<span class="keyword">int</span> people, <span class="keyword">int</span> locate, <span class="keyword">int</span> cost)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(locate == n) &#123;</span><br><span class="line">        ans[people][ans_num[people]] = cost;</span><br><span class="line">        ans_num[people]++;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = locate + <span class="number">1</span>; i &lt;= n; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span>(atime[people][locate][i]) &#123;</span><br><span class="line">            func(people, i, cost + atime[people][locate][i]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h4 id="542奶酪"><a href="#542奶酪" class="headerlink" title="#542奶酪"></a>#<code>542奶酪</code></h4><p><a href="http://oj.haizeix.com/problem/542" target="_blank" rel="noopener">题目</a></p>
<p><img src="%E9%80%92%E5%BD%92%E4%B8%8EDFS.assets/image-20200327220747451.png" alt="image-20200327220747451"></p>
<p>求上下表面数组：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cin</span> &gt;&gt;qiu[i][<span class="number">0</span>] &gt;&gt; qiu[i][<span class="number">1</span>] &gt;&gt; qiu[i][<span class="number">2</span>];</span><br><span class="line">           <span class="keyword">if</span>(qiu[i][<span class="number">2</span>] &lt;= r) &#123;</span><br><span class="line">               low[low_num++] = i;</span><br><span class="line">           &#125;</span><br><span class="line">           <span class="keyword">if</span>(qiu[i][<span class="number">2</span>] + r &gt;= h) &#123;</span><br><span class="line">               up[i] = <span class="number">1</span>;</span><br><span class="line">           &#125;</span><br></pre></td></tr></table></figure>

<p>构建邻接矩阵：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">1</span>; j &lt; i; j++) &#123;</span><br><span class="line">              <span class="keyword">int</span> t0 = qiu[i][<span class="number">0</span>] - qiu[j][<span class="number">0</span>];</span><br><span class="line">              <span class="keyword">int</span> t1 = qiu[i][<span class="number">1</span>] - qiu[j][<span class="number">1</span>];</span><br><span class="line">              <span class="keyword">int</span> t2 = qiu[i][<span class="number">2</span>] - qiu[j][<span class="number">2</span>];</span><br><span class="line">              <span class="keyword">if</span>(<span class="built_in">sqrt</span>(t0 * t0 + t1 * t1 + t2 * t2) &lt;= <span class="number">2</span> * r) &#123;</span><br><span class="line">                  arr[i][j] = arr[j][i] = <span class="number">1</span>;</span><br><span class="line">              &#125;</span><br><span class="line">          &#125;</span><br></pre></td></tr></table></figure>

<p>遍历下表面进行搜索</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt;= low_num; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span>(check[i] == <span class="number">0</span>) &#123;</span><br><span class="line">            check[i] = <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">if</span>(dfs(i)) &#123;</span><br><span class="line">                <span class="built_in">cout</span> &lt;&lt; <span class="string">"Yes"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">            flag = <span class="number">1</span>;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<p>dfs函数：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> now)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(up[now] == <span class="number">1</span>) <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span>(arr[now][i] &amp;&amp; check[i] == <span class="number">0</span>) &#123;</span><br><span class="line">            check[i] = <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">if</span>(func(i)) <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h4 id="81小明回家"><a href="#81小明回家" class="headerlink" title="#81小明回家"></a>#<code>81小明回家</code></h4><p><a href="http://oj.haizeix.com/problem/81" target="_blank" rel="noopener">题目</a></p>
<h4 id="303-矩阵距离一"><a href="#303-矩阵距离一" class="headerlink" title="#303 矩阵距离一"></a>#<code>303 矩阵距离一</code></h4><p><a href="http://oj.haizeix.com/problem/303" target="_blank" rel="noopener">题目</a></p>
<h4 id="304骑士风度的牛"><a href="#304骑士风度的牛" class="headerlink" title="#304骑士风度的牛"></a>#<code>304骑士风度的牛</code></h4><p><a href="http://oj.haizeix.com/problem/304" target="_blank" rel="noopener">题目</a></p>
<h4 id="305-乳草的入侵"><a href="#305-乳草的入侵" class="headerlink" title="#305 乳草的入侵"></a>#<code>305 乳草的入侵</code></h4><p><a href="http://oj.haizeix.com/problem/305" target="_blank" rel="noopener">题目</a></p>
<h4 id="398马的遍历"><a href="#398马的遍历" class="headerlink" title="#398马的遍历"></a>#<code>398马的遍历</code></h4><p><a href="http://oj.haizeix.com/problem/398" target="_blank" rel="noopener">题目</a></p>
<h4 id="527飞跃原野"><a href="#527飞跃原野" class="headerlink" title="#527飞跃原野"></a>#<code>527飞跃原野</code></h4><p><a href="http://oj.haizeix.com/problem/527" target="_blank" rel="noopener">题目</a></p>
<h4 id="529龙与虫"><a href="#529龙与虫" class="headerlink" title="#529龙与虫"></a>#<code>529龙与虫</code></h4><p><a href="http://oj.haizeix.com/problem/529" target="_blank" rel="noopener">题目</a></p>
<h2 id="贪心"><a href="#贪心" class="headerlink" title="贪心"></a>贪心</h2><h4 id="508两人过河"><a href="#508两人过河" class="headerlink" title="#508两人过河"></a><a href="http://oj.haizeix.com/problem/508" target="_blank" rel="noopener">#508两人过河</a></h4><p><img src="http://ww1.sinaimg.cn/large/006Uqzbtly1ger1l5v0ifj30kq0cs432.jpg" alt="image.png"></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iomanip&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> n, num[<span class="number">1002</span>], ans;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    ios::sync_with_stdio(<span class="literal">false</span>);</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; n;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt; num[i];</span><br><span class="line">    &#125;</span><br><span class="line">    sort(num, num + n);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = n - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i-=<span class="number">2</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span>(i == <span class="number">0</span>) &#123; <span class="comment">//１２３直接求解,   大于等于４</span></span><br><span class="line">            ans += num[<span class="number">0</span>];</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(i == <span class="number">1</span>) &#123;</span><br><span class="line">            ans += num[<span class="number">1</span>];</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(i == <span class="number">2</span>) &#123;</span><br><span class="line">            ans += num[<span class="number">0</span>] + num[<span class="number">1</span>] + num[<span class="number">2</span>];</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        ans += min(num[<span class="number">1</span>] + num[<span class="number">0</span>] + num[i] + num[<span class="number">1</span>], num[i] + num[<span class="number">0</span>] + num[i - <span class="number">1</span>] + num[<span class="number">0</span>]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; ans &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="枚举"><a href="#枚举" class="headerlink" title="枚举"></a>枚举</h2><h4 id="593魔法项链"><a href="#593魔法项链" class="headerlink" title="#593魔法项链"></a><a href="http://oj.haizeix.com/problem/593" target="_blank" rel="noopener">#593魔法项链</a></h4><p><img src="http://ww1.sinaimg.cn/large/006Uqzbtly1ger2nttcrhj30sv0idn26.jpg" alt="image.png"></p>
<p><img src="http://ww1.sinaimg.cn/large/006Uqzbtly1ger31a4g3gj30sd0gq79j.jpg" alt="image.png"></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iomanip&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">int</span> n, m, ans[<span class="number">30005</span>], mem[<span class="number">30005</span>];</span><br><span class="line"><span class="keyword">char</span> str[<span class="number">30005</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; n &gt;&gt; m &gt;&gt; &amp;str[<span class="number">1</span>];</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n / <span class="number">2</span>; i++) &#123;<span class="comment">//计算从1开始的</span></span><br><span class="line">        <span class="keyword">int</span> same = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">1</span>, k = i + <span class="number">1</span>; j &lt;= i; j++, k++) &#123;</span><br><span class="line">            <span class="keyword">if</span>(str[j] == str[k]) &#123;</span><br><span class="line">                same++;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        ans[same]++;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">2</span>; j + <span class="number">2</span> * i - <span class="number">1</span> &lt;= n; j++) &#123;<span class="comment">//计算从2开始的</span></span><br><span class="line">            <span class="keyword">if</span>(str[j - <span class="number">1</span>] == str[j - <span class="number">1</span> + i]) &#123;</span><br><span class="line">                same--;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(str[j + i - <span class="number">1</span>] == str[j + <span class="number">2</span> * i - <span class="number">1</span>]) &#123;</span><br><span class="line">                same++;</span><br><span class="line">            &#125;</span><br><span class="line">            ans[same]++;</span><br><span class="line">        &#125;</span><br><span class="line">        mem[i] = same;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; m; i++) &#123;<span class="comment">//m次操作</span></span><br><span class="line">        <span class="keyword">int</span> t;</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt; t;</span><br><span class="line">        <span class="keyword">if</span>(t == <span class="number">2</span>) &#123;<span class="comment">//ｔ为2时输出答案</span></span><br><span class="line">            <span class="built_in">cin</span> &gt;&gt; t;</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; ans[t] &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">char</span> l;</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt; l;<span class="comment">//新加入一个字符</span></span><br><span class="line">        str[++n] = l;</span><br><span class="line">        <span class="keyword">if</span>(n % <span class="number">2</span> == <span class="number">0</span>) &#123;<span class="comment">//若加入后的长度为偶数，则计算新长度子串</span></span><br><span class="line">            <span class="keyword">int</span> same = <span class="number">0</span>, mid = n / <span class="number">2</span>;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">1</span>, k = <span class="number">1</span> + mid; j &lt;= mid; j++, k++) &#123;</span><br><span class="line">                <span class="keyword">if</span>(str[j] == str[k]) &#123;</span><br><span class="line">                    same ++;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            ans[same] ++;</span><br><span class="line">            mem[mid] = same;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= (n - <span class="number">1</span>) / <span class="number">2</span>; j++) &#123;<span class="comment">//将之前所有长度最后状态取出，向后移动</span></span><br><span class="line">            <span class="keyword">if</span>(str[n - j - j] == str[n - j]) &#123;</span><br><span class="line">                mem[j] --;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(str[n] == str[n - j])&#123;</span><br><span class="line">                mem[j] ++;</span><br><span class="line">            &#125;</span><br><span class="line">        ans[mem[j]]++;    </span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="二分"><a href="#二分" class="headerlink" title="二分"></a>二分</h2><h4 id="242最大平均值"><a href="#242最大平均值" class="headerlink" title="#242最大平均值"></a><a href="http://oj.haizeix.com/problem/242" target="_blank" rel="noopener">#242最大平均值</a></h4><p>知识准备：</p>
<p>前缀和和差分数组</p>
<p><img src="http://ww1.sinaimg.cn/large/006Uqzbtly1gevic9mojtj30um0eywhr.jpg" alt="image.png"></p>
<p>正解: 二分答案</p>
<p>check函数实现</p>
<p><img src="http://ww1.sinaimg.cn/large/006Uqzbtly1gevioumfwkj315y0rfajj.jpg" alt="image.png"></p>
<p><img src="http://ww1.sinaimg.cn/large/006Uqzbtly1gevipwa43qj31b90h3n2g.jpg" alt="image.png"></p>
<p>b序列的区间和</p>
<p>则长度大于等于什么的一段大于等于0</p>
<h4 id="250糖果传递"><a href="#250糖果传递" class="headerlink" title="#250糖果传递"></a><a href="http://oj.haizeix.com/problem/250" target="_blank" rel="noopener">#250糖果传递</a></h4><p><img src="http://ww1.sinaimg.cn/large/006Uqzbtly1gevpvzgj9nj30j10de0wx.jpg" alt="image.png" style="zoom:50%;" /><img src="http://ww1.sinaimg.cn/large/006Uqzbtly1gevpq4csftj30hy0e00v4.jpg" alt="image.png" style="zoom:50%;" /><img src="http://ww1.sinaimg.cn/large/006Uqzbtly1gevpr30rl0j30e505eabz.jpg" alt="image.png" style="zoom:50%;" /></p>
<p>所以只要找到中位数</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iomanip&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MAX_N 1000000</span></span><br><span class="line"><span class="keyword">long</span> <span class="keyword">long</span> a[MAX_N + <span class="number">5</span>];</span><br><span class="line"><span class="keyword">long</span> <span class="keyword">long</span> s[MAX_N + <span class="number">5</span>];</span><br><span class="line"><span class="keyword">long</span> <span class="keyword">long</span> g[MAX_N + <span class="number">5</span>];</span><br><span class="line"><span class="keyword">long</span> <span class="keyword">long</span> n, sum = <span class="number">0</span>, c, ans = <span class="number">0</span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    ios::sync_with_stdio(<span class="literal">false</span>);</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; n;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">long</span> <span class="keyword">long</span> i = <span class="number">1</span>; i &lt;= n; i++) &#123;</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt; a[i];</span><br><span class="line">        s[i] = s[i - <span class="number">1</span>] + a[i];</span><br><span class="line">        sum += a[i];</span><br><span class="line">    &#125;</span><br><span class="line">    c = sum / n;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">long</span> <span class="keyword">long</span> i = <span class="number">1</span>; i &lt;= n;i++) &#123;</span><br><span class="line">        g[i] = s[i] - i * c;</span><br><span class="line">    &#125;</span><br><span class="line">    sort(g + <span class="number">1</span>, g + <span class="number">1</span> + n);</span><br><span class="line">    c = g[n / <span class="number">2</span>];</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">long</span> <span class="keyword">long</span> i = <span class="number">1</span>; i &lt;= n; i++) &#123;</span><br><span class="line">        ans += <span class="built_in">abs</span>(g[i] - c);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; ans &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>







<h2 id="单调队列"><a href="#单调队列" class="headerlink" title="单调队列"></a>单调队列</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iomanip&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MAX_N 300000</span></span><br><span class="line"><span class="keyword">int</span> a[MAX_N + <span class="number">5</span>];</span><br><span class="line"><span class="keyword">int</span> q[MAX_N + <span class="number">5</span>], head = <span class="number">0</span>, tail = <span class="number">0</span>;</span><br><span class="line"><span class="comment">//下标索引值，q存储下标</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">int main() &#123;</span></span><br><span class="line"><span class="comment">    int n, k;</span></span><br><span class="line"><span class="comment">    cin &gt;&gt; n &gt;&gt; k;</span></span><br><span class="line"><span class="comment">    for(int i = 1; i &lt;= n; i++) cin &gt;&gt; a[i];</span></span><br><span class="line"><span class="comment">    for(int i = 1; i &lt; k; i++) &#123;//先往单调队列中放入k-1个元素</span></span><br><span class="line"><span class="comment">        while(tail - head &amp;&amp; a[q[tail - 1]] &gt;= a[i]) tail --;//判断末尾大于等于，违反，踢了</span></span><br><span class="line"><span class="comment">        q[tail++] = i;//当前入队列</span></span><br><span class="line"><span class="comment">    &#125;</span></span><br><span class="line"><span class="comment">    for(int i = k; i &lt;= n; i++) &#123;</span></span><br><span class="line"><span class="comment">        while(tail - head &amp;&amp; a[q[tail - 1]] &gt;= a[i]) tail --;</span></span><br><span class="line"><span class="comment">        q[tail++] = i;        </span></span><br><span class="line"><span class="comment">        if(q[head] &lt;= i - k) head ++;</span></span><br><span class="line"><span class="comment">        i == k || cout &lt;&lt; " ";</span></span><br><span class="line"><span class="comment">        cout &lt;&lt; a[q[head]];</span></span><br><span class="line"><span class="comment">    &#125;</span></span><br><span class="line"><span class="comment">    cout &lt;&lt; endl;</span></span><br><span class="line"><span class="comment">    head = tail = 0;</span></span><br><span class="line"><span class="comment">    for(int i = 1; i &lt; k; i++) &#123;</span></span><br><span class="line"><span class="comment">        while(tail - head &amp;&amp; a[q[tail - 1]] &lt;= a[i]) tail --;</span></span><br><span class="line"><span class="comment">        q[tail++] = i;</span></span><br><span class="line"><span class="comment">    &#125;</span></span><br><span class="line"><span class="comment">    for(int i = k; i &lt;= n; i++) &#123;</span></span><br><span class="line"><span class="comment">        while(tail - head &amp;&amp; a[q[tail - 1]] &lt;= a[i]) tail --;</span></span><br><span class="line"><span class="comment">        q[tail++] = i;</span></span><br><span class="line"><span class="comment">        if(q[head] &lt;= i - k) head ++;</span></span><br><span class="line"><span class="comment">        i == k || cout &lt;&lt; " ";</span></span><br><span class="line"><span class="comment">        cout &lt;&lt; a[q[head]];</span></span><br><span class="line"><span class="comment">    &#125;</span></span><br><span class="line"><span class="comment">    cout &lt;&lt; endl;</span></span><br><span class="line"><span class="comment">    return 0;</span></span><br><span class="line"><span class="comment">&#125;</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n, k;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; n &gt;&gt; k;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++) <span class="built_in">cin</span> &gt;&gt; a[i];<span class="comment">//a数组存储序列，q数组存储单调队列</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++) &#123;</span><br><span class="line">        <span class="keyword">while</span>(tail - head &amp;&amp; a[q[tail - <span class="number">1</span>]] &gt;= a[i]) tail --; <span class="comment">//维护单调性</span></span><br><span class="line">        q[tail++] = i;</span><br><span class="line">        <span class="keyword">if</span>(q[head] &lt;= i - k) head ++;<span class="comment">//已出队列</span></span><br><span class="line">        <span class="keyword">if</span>(i &lt; k)<span class="keyword">continue</span>;</span><br><span class="line">        i == k || <span class="built_in">cout</span> &lt;&lt; <span class="string">" "</span>;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; a[q[head]];<span class="comment">//头部存最小的</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    head = tail = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++) &#123;</span><br><span class="line">        <span class="keyword">while</span>(tail - head &amp;&amp; a[q[tail - <span class="number">1</span>]] &lt;= a[i]) tail --;</span><br><span class="line">        q[tail++] = i;</span><br><span class="line">        <span class="keyword">if</span>(q[head] &lt;= i - k) head ++;</span><br><span class="line">        <span class="keyword">if</span>(i &lt; k) <span class="keyword">continue</span>;</span><br><span class="line">        i == k || <span class="built_in">cout</span> &lt;&lt; <span class="string">" "</span>;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; a[q[head]];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="单调栈"><a href="#单调栈" class="headerlink" title="单调栈"></a>单调栈</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iomanip&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MAX_N 100000</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> inti;</span><br><span class="line">inti a[MAX_N + <span class="number">5</span>];</span><br><span class="line">inti s[MAX_N + <span class="number">5</span>], top = <span class="number">-1</span>; </span><br><span class="line">inti l[MAX_N + <span class="number">5</span>], r[MAX_N + <span class="number">5</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    inti n;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; n;</span><br><span class="line">    <span class="keyword">for</span>(inti i = <span class="number">1</span>; i &lt;= n; i++) <span class="built_in">cin</span> &gt;&gt; a[i];</span><br><span class="line">    a[<span class="number">0</span>] =a[n + <span class="number">1</span>]= <span class="number">-1</span>;</span><br><span class="line">    s[top = <span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(inti i = <span class="number">1</span>; i &lt;= n; i++) &#123;</span><br><span class="line">        <span class="keyword">while</span>(a[s[top]] &gt;= a[i]) -- top;</span><br><span class="line">        l[i] = s[top];</span><br><span class="line">        s[++top] = i;</span><br><span class="line">    &#125;</span><br><span class="line">    s[top = <span class="number">0</span>] = n + <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(inti i = n; i &gt;= <span class="number">1</span>; i--) &#123;</span><br><span class="line">        <span class="keyword">while</span>(a[s[top]] &gt;= a[i]) -- top;</span><br><span class="line">        r[i] = s[top];</span><br><span class="line">        s[++top] = i;</span><br><span class="line">    &#125;</span><br><span class="line">    inti ans = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(inti i = <span class="number">1</span>; i &lt;= n; i++) &#123;</span><br><span class="line">         ans = max(ans, a[i] * (r[i] - l[i] - <span class="number">1</span>));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; ans&lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="背包"><a href="#背包" class="headerlink" title="背包"></a>背包</h2><h3 id="0-1背包"><a href="#0-1背包" class="headerlink" title="0-1背包"></a>0-1背包</h3><p>问题描述：有n件物品和容量为m的背包 给出i件物品的重量以及价值 求解让装入背包的物品重量不超过背包容量 且价值最大 。 <font color = red>特点:这是最简单的背包问题，特点是每个物品只有一件供你选择放还是不放。</font></p>
<p><img src="http://ww1.sinaimg.cn/large/006Uqzbtly1geddbcwjtrj315n0rw4c8.jpg" alt="undefined"></p>
<p><img src="http://ww1.sinaimg.cn/large/006Uqzbtly1gedddn7ua0j310j0n34gg.jpg" alt="undefined"></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*************************************************************************</span></span><br><span class="line"><span class="comment">	&gt; File Name: 47-01背包.cpp</span></span><br><span class="line"><span class="comment">	&gt; Author:fangsong</span></span><br><span class="line"><span class="comment">	&gt; Mail: </span></span><br><span class="line"><span class="comment">	&gt; Created Time: 2020年04月22日 星期三 20时10分19秒</span></span><br><span class="line"><span class="comment"> ************************************************************************/</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">#include&lt;iostream&gt;</span></span><br><span class="line"><span class="comment">#include&lt;cstdio&gt;</span></span><br><span class="line"><span class="comment">#include&lt;cmath&gt;</span></span><br><span class="line"><span class="comment">#include&lt;cstring&gt;</span></span><br><span class="line"><span class="comment">#include&lt;iomanip&gt;</span></span><br><span class="line"><span class="comment">#include&lt;algorithm&gt;</span></span><br><span class="line"><span class="comment">#include&lt;map&gt;</span></span><br><span class="line"><span class="comment">#include&lt;vector&gt;</span></span><br><span class="line"><span class="comment">using namespace std;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">int all, n, w[105], v[105], ans[105][100005];</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">int main() &#123;</span></span><br><span class="line"><span class="comment">    cin &gt;&gt; all &gt;&gt; n;</span></span><br><span class="line"><span class="comment">    for(int i = 1; i &lt;= n; i++) &#123;</span></span><br><span class="line"><span class="comment">        cin &gt;&gt;w[i] &gt;&gt; v[i];</span></span><br><span class="line"><span class="comment">    &#125;</span></span><br><span class="line"><span class="comment">    for(int i = 1; i &lt;= n; i++) &#123;</span></span><br><span class="line"><span class="comment">        for(int j = 1; j &lt;= all; j++) &#123;</span></span><br><span class="line"><span class="comment">            if(j &lt; w[i]) &#123;</span></span><br><span class="line"><span class="comment">                ans[i][j] = ans[i - 1][j];</span></span><br><span class="line"><span class="comment">            &#125; else &#123;</span></span><br><span class="line"><span class="comment">                ans[i][j] = max(ans[i - 1][j], v[i] + ans[i - 1][j - w[i]]);</span></span><br><span class="line"><span class="comment">            &#125;</span></span><br><span class="line"><span class="comment">        &#125;</span></span><br><span class="line"><span class="comment">    &#125;</span></span><br><span class="line"><span class="comment">    cout &lt;&lt; ans[n][all] &lt;&lt; endl;</span></span><br><span class="line"><span class="comment">    return 0;</span></span><br><span class="line"><span class="comment">&#125;</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> all, n, w[<span class="number">102</span>], v[<span class="number">102</span>], ans[<span class="number">10002</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    ios::sync_with_stdio(<span class="literal">false</span>);</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; all &gt;&gt; n;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++) &#123;</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt;w[i] &gt;&gt; v[i];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j = all; j &gt;= w[i]; j--) &#123;</span><br><span class="line">                ans[j] = max(ans[j], v[i] + ans[j - w[i]]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; ans[all] &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="完全背包"><a href="#完全背包" class="headerlink" title="完全背包"></a>完全背包</h3><p>问题描述：有n件物品和容量为m的背包 给出i件物品的重量以及价值 求解让装入背包的物品重量不超过背包容量 且价值最大 。 <font color = red>特点：题干看似与01一样 但它的特点是每个物品可以无限选用。</font></p>
<p><img src="http://ww1.sinaimg.cn/large/006Uqzbtly1geddg6iiwmj30q10isn1l.jpg" alt="undefined"></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*************************************************************************</span></span><br><span class="line"><span class="comment">	&gt; File Name: 48-完全背包.cpp</span></span><br><span class="line"><span class="comment">	&gt; Author:fangsong</span></span><br><span class="line"><span class="comment">	&gt; Mail: </span></span><br><span class="line"><span class="comment">	&gt; Created Time: 2020年04月22日 星期三 20时53分30秒</span></span><br><span class="line"><span class="comment"> ************************************************************************/</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">#include&lt;iostream&gt;</span></span><br><span class="line"><span class="comment">#include&lt;cstdio&gt;</span></span><br><span class="line"><span class="comment">#include&lt;cmath&gt;</span></span><br><span class="line"><span class="comment">#include&lt;cstring&gt;</span></span><br><span class="line"><span class="comment">#include&lt;iomanip&gt;</span></span><br><span class="line"><span class="comment">#include&lt;algorithm&gt;</span></span><br><span class="line"><span class="comment">#include&lt;map&gt;</span></span><br><span class="line"><span class="comment">#include&lt;vector&gt;</span></span><br><span class="line"><span class="comment">using namespace std;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">int all, n, w[105], v[105], ans[105][100005];</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">int main() &#123;</span></span><br><span class="line"><span class="comment">    cin &gt;&gt; n &gt;&gt; all;</span></span><br><span class="line"><span class="comment">    for(int i = 1; i &lt;= n; i++) &#123;</span></span><br><span class="line"><span class="comment">        cin &gt;&gt;w[i] &gt;&gt; v[i];</span></span><br><span class="line"><span class="comment">    &#125;</span></span><br><span class="line"><span class="comment">    for(int i = 1; i &lt;= n; i++) &#123;</span></span><br><span class="line"><span class="comment">        for(int j = 1; j &lt;= all; j++) &#123;</span></span><br><span class="line"><span class="comment">            if(j &lt; w[i]) &#123;</span></span><br><span class="line"><span class="comment">                ans[i][j] = ans[i - 1][j];</span></span><br><span class="line"><span class="comment">            &#125; else &#123;</span></span><br><span class="line"><span class="comment">                ans[i][j] = max(ans[i - 1][j], v[i] + ans[i][j - w[i]]);</span></span><br><span class="line"><span class="comment">            &#125;</span></span><br><span class="line"><span class="comment">        &#125;</span></span><br><span class="line"><span class="comment">    &#125;</span></span><br><span class="line"><span class="comment">    cout &lt;&lt; ans[n][all] &lt;&lt; endl;</span></span><br><span class="line"><span class="comment">    return 0;</span></span><br><span class="line"><span class="comment">&#125;</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> all, n, w[<span class="number">10002</span>], v[<span class="number">10002</span>], ans[<span class="number">10002</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    ios::sync_with_stdio(<span class="literal">false</span>);</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; n &gt;&gt; all;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++) &#123;</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt;w[i] &gt;&gt; v[i];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j = w[i]; j &lt;= all; j++) &#123;</span><br><span class="line">                ans[j] = max(ans[j], v[i] + ans[j - w[i]]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; ans[all] &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="多重背包"><a href="#多重背包" class="headerlink" title="多重背包"></a>多重背包</h3><p>问题描述：有n件物品和容量为m的背包 给出i件物品的重量以及价值 还有数量 求解让装入背包的物品重量不超过背包容量 且价值最大 。</p>
<p><font color = red>特点 ：它与0 / 1背包有类似点 特点是每个物品都有了一定的数量。该类型题可以转化为0/1类型 .</font></p>
<p>未优化:</p>
<p><img src="http://ww1.sinaimg.cn/large/006Uqzbtly1geddkgq89nj30v00kfwml.jpg" alt="undefined"></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iomanip&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> all, n, ind ,v[<span class="number">100005</span>], w[<span class="number">100005</span>], ans[<span class="number">100000</span>];</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; all &gt;&gt; n;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">        <span class="keyword">int</span> x, y ,z ;</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt; x &gt;&gt; y &gt;&gt; z;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; z; j++) &#123;</span><br><span class="line">            ind ++;</span><br><span class="line">            w[ind] = x;</span><br><span class="line">            v[ind] = y;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= ind; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j = all; j &gt;= w[i]; j--) &#123;</span><br><span class="line">            ans[j] = max(ans[j], ans[j - w[i]] + v[i]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; ans[all] &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>把多重背包中的数量为n的物品安二进制分解成物品转化为0/1类型。重量，单价都会改变。如下图：</p>
<p><img src="http://ww1.sinaimg.cn/large/006Uqzbtly1geddlj1ajjj30v40lz123.jpg" alt="undefined"></p>
<p>优化:</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*************************************************************************</span></span><br><span class="line"><span class="comment">	&gt; File Name: 49-1-多重背包.cpp</span></span><br><span class="line"><span class="comment">	&gt; Author:fangsong</span></span><br><span class="line"><span class="comment">	&gt; Mail: </span></span><br><span class="line"><span class="comment">	&gt; Created Time: 2020年04月29日 星期三 19时59分30秒</span></span><br><span class="line"><span class="comment"> ************************************************************************/</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iomanip&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> all, n, ind ,v[<span class="number">100005</span>], w[<span class="number">100005</span>], ans[<span class="number">100000</span>];</span><br><span class="line"><span class="keyword">int</span> t[<span class="number">20</span>];</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> tt= <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">20</span>; i++) &#123;<span class="comment">//存二进制数据的数组</span></span><br><span class="line">        t[i] = tt;</span><br><span class="line">        tt *= <span class="number">2</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; all &gt;&gt; n;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">        <span class="keyword">int</span> x, y ,z , temp = <span class="number">0</span>;</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt; x &gt;&gt; y &gt;&gt; z;</span><br><span class="line">        <span class="keyword">while</span>(z &gt; <span class="number">0</span>) &#123;<span class="comment">// 多重背包按二进制分解成0/1背包</span></span><br><span class="line">            ind ++;</span><br><span class="line">            <span class="keyword">if</span>(z &gt;= t[temp]) &#123;</span><br><span class="line">                w[ind] = x * t[temp];</span><br><span class="line">                v[ind] = y * t[temp];</span><br><span class="line">                z-= t[temp];</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                w[ind] = x * z;</span><br><span class="line">                v[ind] = y * z;</span><br><span class="line">                z = <span class="number">0</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            temp ++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= ind; i++) &#123;<span class="comment">//01背包</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j = all; j &gt;= w[i]; j--) &#123;</span><br><span class="line">            ans[j] = max(ans[j], ans[j - w[i]] + v[i]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; ans[all] &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="动态规划"><a href="#动态规划" class="headerlink" title="动态规划"></a>动态规划</h2><h3 id="动态规划的解题步骤"><a href="#动态规划的解题步骤" class="headerlink" title="动态规划的解题步骤"></a>动态规划的解题步骤</h3><p>1、确定动归状态</p>
<p>例如: f(i, j) 代表从底边走到(i, j) 点能获得的最大值</p>
<p>2、确定状态转移方程</p>
<p>例如:<br>$$<br>f(i, j) = max[f(i + 1, j), f(i + 1, j + 1)] + val(i, j);<br>$$<br>3、正确性证明:数学归纳法</p>
<h4 id="求解方向"><a href="#求解方向" class="headerlink" title="求解方向"></a>求解方向</h4><p><img src="http://ww1.sinaimg.cn/large/006Uqzbtly1gedem4x917j30jh05zmzc.jpg" alt="image.png"></p>
<p>我从哪里来:<img src="http://ww1.sinaimg.cn/large/006Uqzbtly1gedeoi41jdj30ds030aba.jpg" alt="我从哪里来"></p>
<p>我到哪里去:<img src="http://ww1.sinaimg.cn/large/006Uqzbtly1gedeqrptlfj30dn07a41j.jpg" alt="我到哪里去"></p>
<h3 id="经典问题"><a href="#经典问题" class="headerlink" title="经典问题"></a>经典问题</h3><h4 id="1-最长上升子序列"><a href="#1-最长上升子序列" class="headerlink" title="1.最长上升子序列"></a><strong>1.<a href="http://oj.haizeix.com/problem/44" target="_blank" rel="noopener">最长上升子序列</a></strong></h4><p><img src="http://ww1.sinaimg.cn/large/006Uqzbtly1gedf1nzamcj30mn0eita1.jpg" alt="image.png"></p>
<p>(1)确定动归状态<br>$$<br>f(i)代表以i作为结尾的长度<br>$$<br>(2)确定状态转移方程</p>
<p><img src="http://ww1.sinaimg.cn/large/006Uqzbtly1gedf636gnkj30ex0690u7.jpg" alt="image.png"><br>$$<br>f(i) = max(f(j)) + 1<br>$$<br>$$<br>val(i) &gt; val(j)<br>$$</p>
<p>(3)代码实现：</p>
<p><strong>没有优化:</strong></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> max_n 1000000</span></span><br><span class="line"><span class="keyword">int</span> dp[max_n + <span class="number">5</span>], a[max_n + <span class="number">5</span>];</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n, ans = <span class="number">0</span>;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; n;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++) &#123;</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt; a[i];</span><br><span class="line">        dp[i] = <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= i; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span>(a[j] &gt;= a[i])<span class="keyword">continue</span>;</span><br><span class="line">            dp[i] = max(dp[i], dp[j] + <span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        ans = max(ans, dp[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; ans &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>这种方式效率较低，进而进行优化－－&gt;</p>
<p><strong>优化：</strong></p>
<ol>
<li><p>在i之前没有必要把所有的遍历一遍，只要在前面找到一个，长度为４例如以6 8 12 16结尾长度为4的，如果不能接到6后面，后面也不要看了，所以我们只要记录相应长度序列末尾最小值是多少<img src="http://ww1.sinaimg.cn/large/006Uqzbtly1gedyuulbydj30g808pwfx.jpg" alt="image.png"></p>
</li>
<li><p>有一个数组len[]记录的是每一种长度的序列末尾最小值</p>
<p><img src="http://ww1.sinaimg.cn/large/006Uqzbtly1gedyy5ityhj30cr04774w.jpg" alt="image.png"></p>
<p>len[]性质：一定是单调的，从小到大</p>
</li>
<li><p>找到最后一位小于a[i]的位置（二分查找）<img src="http://ww1.sinaimg.cn/large/006Uqzbtly1gedz1qdurjj30h7086gn3.jpg" alt="image.png"></p>
</li>
<li><p>a[i]去更新替换<img src="README.assets/image-20200502120602687.png" alt="image-20200502120602687"></p>
</li>
</ol>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iomanip&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MAX_N 1000000</span></span><br><span class="line"><span class="keyword">int</span> dp[MAX_N + <span class="number">5</span>];<span class="comment">//以第ｉ位作为结尾的最长上升子序列长度</span></span><br><span class="line"><span class="keyword">int</span> a[MAX_N + <span class="number">5</span>];<span class="comment">//最长上升子序列低i位的值</span></span><br><span class="line"><span class="keyword">int</span> len[MAX_N + <span class="number">5</span>], ans = <span class="number">0</span>;<span class="comment">//记录的是每一种长度的序列末尾最小值,ans是len中记录的数量</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">bs</span><span class="params">(<span class="keyword">int</span> *arr, <span class="keyword">int</span> l, <span class="keyword">int</span> r, <span class="keyword">int</span> x)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(l ==  r) <span class="keyword">return</span> l;</span><br><span class="line">    <span class="keyword">int</span> mid = (l + r) &gt;&gt; <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span>(arr[mid] &lt; x) <span class="keyword">return</span> bs(arr, mid + <span class="number">1</span>, r, x);</span><br><span class="line">    <span class="keyword">return</span> bs(arr, l, mid, x);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; n;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++) &#123;</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt; a[i];</span><br><span class="line">        dp[i] = <span class="number">1</span>;<span class="comment">//形成最短的１</span></span><br><span class="line">        len[i] = <span class="number">0x3f3f3f3f</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    len[++ans] = a[<span class="number">1</span>];<span class="comment">//len[1] = a[1];</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">2</span>; i &lt;= n; i++) &#123;</span><br><span class="line">        dp[i] = bs(len, <span class="number">1</span>, ans + <span class="number">1</span>, a[i]);<span class="comment">//len中找到第一位大于等于a[i]的值</span></span><br><span class="line">        len[dp[i]] = a[i];<span class="comment">//a[i]去更新，dp[i]相应的长度</span></span><br><span class="line">        ans = max(dp[i], ans);<span class="comment">//在所有的长度中找出一个最大值</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; ans &lt;&lt; <span class="built_in">endl</span>;<span class="comment">//长度种类是哪种</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="2-最长公共子序列"><a href="#2-最长公共子序列" class="headerlink" title="2.最长公共子序列"></a>2.<a href="http://oj.haizeix.com/problem/45" target="_blank" rel="noopener">最长公共子序列</a></h4><p><img src="http://ww1.sinaimg.cn/large/006Uqzbtly1gef4hqegk2j30wf0iz408.jpg" alt="image.png"></p>
<p><strong>(1)确定动归状态</strong><br>$$<br>dp[i][j]<br>$$<br>​         第一个字符串选前i位，第二个字符串选前j位所能形成的公共子序列长度,不一定以第ｉｊ结尾；</p>
<p><strong>(2)确定状态转移方程</strong><br>$$<br>如果第i位与第j位不相等,可以看成没有第i位dp[i - 1][j], dp[i][j - 1]<br>$$</p>
<p>$$<br>如果第i位与第j位相等,可以看成他俩都没dp[i - 1][j - 1] + 1, 其中1就是i,j位匹配的<br>$$</p>
<p><img src="http://ww1.sinaimg.cn/large/006Uqzbtly1gef4pskruuj30jp0cwafx.jpg" alt="image.png"></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*************************************************************************</span></span><br><span class="line"><span class="comment">	&gt; File Name: 45-最长公共子序列.cpp</span></span><br><span class="line"><span class="comment">	&gt; Author:fangsong</span></span><br><span class="line"><span class="comment">	&gt; Mail: </span></span><br><span class="line"><span class="comment">	&gt; Created Time: 2020年04月30日 星期四 20时14分14秒</span></span><br><span class="line"><span class="comment"> ************************************************************************/</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iomanip&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MAX_N 1000</span></span><br><span class="line"><span class="keyword">int</span> dp[MAX_N +<span class="number">5</span>][MAX_N +<span class="number">5</span>];<span class="comment">//第一个字符串选前i位，第二个字符串选前j位所能形成的公共子序列长度</span></span><br><span class="line"><span class="built_in">string</span> s1, s2;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; s1 &gt;&gt; s2;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= s1.size(); i++) &#123;<span class="comment">//字符串下表是从０开始的</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">1</span>; j&lt;= s2.size(); j++) &#123;</span><br><span class="line">            dp[i][j] = max(dp[i - <span class="number">1</span>][j], dp[i][j - <span class="number">1</span>]);<span class="comment">//第i位与第j位不相等</span></span><br><span class="line">            <span class="keyword">if</span>(s1[i - <span class="number">1</span>] - s2[j - <span class="number">1</span>])<span class="keyword">continue</span>;</span><br><span class="line">            dp[i][j] = dp[i - <span class="number">1</span>][j - <span class="number">1</span>] + <span class="number">1</span>;<span class="comment">//第i位与第j位相等</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; dp[s1.size()][s2.size()] &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="3-最长公共上升子序列"><a href="#3-最长公共上升子序列" class="headerlink" title="3.最长公共上升子序列"></a>3.最长公共上升子序列</h4><p><img src="http://ww1.sinaimg.cn/large/006Uqzbtly1gehzci1p5fj30pl0itmz1.jpg" alt="image.png"></p>
<p><strong>(1)确定动归状态</strong><br>$$<br>f[i][j]表示以b[j]结尾，字符串a[i]之前的公共上升子序列的最大长度<br>$$<br><strong>(2)确定状态转移方程</strong><br>$$<br>f[i][j] &gt;= f[i - 1][j]<br>$$</p>
<p>$$<br>若a[i]!=b[j]: f[i][j] = f[i - 1][j]<br>$$</p>
<p>$$<br>若a[i] == b[j]: f[i][j] = max(f[k][j]) + 1; (1 &lt;= k &lt;=j - 1 并且 b[j] &gt; b[k])<br>$$</p>
<h4 id="50-扔鸡蛋"><a href="#50-扔鸡蛋" class="headerlink" title="#50-扔鸡蛋"></a>#<a href="http://oj.haizeix.com/problem/50" target="_blank" rel="noopener">50-扔鸡蛋</a></h4><p>基础做法：</p>
<p><img src="http://ww1.sinaimg.cn/large/006Uqzbtly1gepv15gg8vj30u80o5k17.jpg" alt="image.png"></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iomanip&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MAX_N 32</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MAX_M 65536</span></span><br><span class="line"><span class="keyword">long</span> <span class="keyword">long</span> dp[MAX_N + <span class="number">5</span>][MAX_M+ <span class="number">5</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n, m;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; n &gt;&gt; m;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= m; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span>(i == <span class="number">1</span>) &#123;</span><br><span class="line">                dp[i][j] = j;</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            dp[i][j] = j;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> k = <span class="number">1</span>; k &lt;= j; k++)&#123;</span><br><span class="line">                dp[i][j] = min(dp[i][j], max(dp[i - <span class="number">1</span>][k], dp[i][j - k]) + <span class="number">1</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; dp[n][m] - <span class="number">1</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>优化：n个鸡蛋扔ｋ次最多能测m层楼</p>
<p><img src="http://ww1.sinaimg.cn/large/006Uqzbtly1gepwqprjysj30nq0bz0sv.jpg" alt="image.png"></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iomanip&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MAX_N 32</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MAX_M 65536</span></span><br><span class="line"><span class="keyword">long</span> <span class="keyword">long</span> dp[MAX_N + <span class="number">5</span>][MAX_M+ <span class="number">5</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">long</span> <span class="keyword">long</span> n, m;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; n &gt;&gt; m;</span><br><span class="line">    <span class="keyword">if</span>(n == <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; m &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">long</span> <span class="keyword">long</span> k = <span class="number">1</span>; k &lt;= MAX_M; k++) dp[<span class="number">1</span>][k] = k;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">long</span> <span class="keyword">long</span> i = <span class="number">2</span>; i &lt;= n; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">long</span> <span class="keyword">long</span> k = <span class="number">1</span>; k &lt;= MAX_M; k++) &#123;</span><br><span class="line">            dp[i][k] = dp[i - <span class="number">1</span>][k - <span class="number">1</span>] + dp[i][k - <span class="number">1</span>] + <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">long</span> <span class="keyword">long</span> p = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span>(dp[n][p] &lt; m) &#123;</span><br><span class="line">        p++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; p &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


      
      <!-- reward -->
      
    </div>
    
    
      <!-- copyright -->
      
    <footer class="article-footer">
      
      

    </footer>

  </div>

  

  
  
  

  

</article>
    
    <article id="post-Mynotes/C语言/c语言项目" class="article article-type-post" itemscope
  itemprop="blogPost" data-scroll-reveal>

  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2020/05/29/Mynotes/C%E8%AF%AD%E8%A8%80/c%E8%AF%AD%E8%A8%80%E9%A1%B9%E7%9B%AE/"
    >Mynotes/C语言/c语言项目</a> 
</h2>
 

    </header>
    

    
    <div class="article-meta">
      <a href="/2020/05/29/Mynotes/C%E8%AF%AD%E8%A8%80/c%E8%AF%AD%E8%A8%80%E9%A1%B9%E7%9B%AE/" class="article-date">
  <time datetime="2020-05-29T06:22:35.926Z" itemprop="datePublished">2020-05-29</time>
</a>
      
      
      
      
    </div>
    

    

    
    <div class="article-entry" itemprop="articleBody">
      
      

      
      <h1 id="谷歌测试框架"><a href="#谷歌测试框架" class="headerlink" title="谷歌测试框架"></a>谷歌测试框架</h1><p>##　安装Google test</p>
<p>下载解压 googletest-master</p>
<p>下载地址：<a href="https://github.com/google/googletest.git" target="_blank" rel="noopener">https://github.com/google/googletest.git</a></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">cmake ./ </span><br><span class="line">sudo apt-get install cmake <span class="comment">//unbantu安装cmake</span></span><br><span class="line">cmake ./</span><br><span class="line">make</span><br></pre></td></tr></table></figure>

<p>![](./图片/2020-01-12 15-07-50屏幕截图.png)</p>
<p>以上命令会将gtest编译好</p>
<p>此时完成cmake的安装</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">fangsong@fangsong-FX503VD:~/Mycode/project$ mv googletest-master googletest-master.zip thirdpart/   <span class="comment">//(1)</span></span><br><span class="line">fangsong@fangsong-FX503VD:~/Mycode/project$ ll</span><br><span class="line">总用量 <span class="number">12</span></span><br><span class="line">drwxr-xr-x  <span class="number">3</span> fangsong fangsong <span class="number">4096</span> <span class="number">1</span>月  <span class="number">12</span> <span class="number">15</span>:<span class="number">31</span> ./</span><br><span class="line">drwxr-xr-x <span class="number">10</span> fangsong fangsong <span class="number">4096</span> <span class="number">1</span>月  <span class="number">12</span> <span class="number">14</span>:<span class="number">43</span> ../</span><br><span class="line">drwxr-xr-x  <span class="number">3</span> fangsong fangsong <span class="number">4096</span> <span class="number">1</span>月  <span class="number">12</span> <span class="number">15</span>:<span class="number">31</span> thirdpart/</span><br><span class="line">fangsong@fangsong-FX503VD:~/Mycode/project$ cp -R thirdpart/googletest-master/lib ./ </span><br><span class="line">    <span class="comment">//(2)</span></span><br><span class="line">fangsong@fangsong-FX503VD:~/Mycode/project$ ll</span><br><span class="line">总用量 <span class="number">16</span></span><br><span class="line">drwxr-xr-x  <span class="number">4</span> fangsong fangsong <span class="number">4096</span> <span class="number">1</span>月  <span class="number">12</span> <span class="number">15</span>:<span class="number">31</span> ./</span><br><span class="line">drwxr-xr-x <span class="number">10</span> fangsong fangsong <span class="number">4096</span> <span class="number">1</span>月  <span class="number">12</span> <span class="number">14</span>:<span class="number">43</span> ../</span><br><span class="line">drwxr-xr-x  <span class="number">2</span> fangsong fangsong <span class="number">4096</span> <span class="number">1</span>月  <span class="number">12</span> <span class="number">15</span>:<span class="number">31</span> lib/</span><br><span class="line">drwxr-xr-x  <span class="number">3</span> fangsong fangsong <span class="number">4096</span> <span class="number">1</span>月  <span class="number">12</span> <span class="number">15</span>:<span class="number">31</span> thirdpart/</span><br><span class="line">fangsong@fangsong-FX503VD:~/Mycode/project$ cp -R thirdpart/googletest-master/googletest/include ./ <span class="comment">//(3)</span></span><br><span class="line">fangsong@fangsong-FX503VD:~/Mycode/project$ ll</span><br><span class="line">总用量 <span class="number">20</span></span><br><span class="line">drwxr-xr-x  <span class="number">5</span> fangsong fangsong <span class="number">4096</span> <span class="number">1</span>月  <span class="number">12</span> <span class="number">15</span>:<span class="number">32</span> ./</span><br><span class="line">drwxr-xr-x <span class="number">10</span> fangsong fangsong <span class="number">4096</span> <span class="number">1</span>月  <span class="number">12</span> <span class="number">14</span>:<span class="number">43</span> ../</span><br><span class="line">drwxr-xr-x  <span class="number">3</span> fangsong fangsong <span class="number">4096</span> <span class="number">1</span>月  <span class="number">12</span> <span class="number">15</span>:<span class="number">32</span> include/</span><br><span class="line">drwxr-xr-x  <span class="number">2</span> fangsong fangsong <span class="number">4096</span> <span class="number">1</span>月  <span class="number">12</span> <span class="number">15</span>:<span class="number">31</span> lib/</span><br><span class="line">drwxr-xr-x  <span class="number">3</span> fangsong fangsong <span class="number">4096</span> <span class="number">1</span>月  <span class="number">12</span> <span class="number">15</span>:<span class="number">31</span> thirdpart/</span><br><span class="line">fangsong@fangsong-FX503VD:~/Mycode/project$ ls</span><br><span class="line">include  lib  thirdpart</span><br><span class="line">fangsong@fangsong-FX503VD:~/Mycode/project$ ll</span><br><span class="line">总用量 <span class="number">20</span></span><br><span class="line">drwxr-xr-x  <span class="number">5</span> fangsong fangsong <span class="number">4096</span> <span class="number">1</span>月  <span class="number">12</span> <span class="number">15</span>:<span class="number">32</span> ./</span><br><span class="line">drwxr-xr-x <span class="number">10</span> fangsong fangsong <span class="number">4096</span> <span class="number">1</span>月  <span class="number">12</span> <span class="number">14</span>:<span class="number">43</span> ../</span><br><span class="line">drwxr-xr-x  <span class="number">3</span> fangsong fangsong <span class="number">4096</span> <span class="number">1</span>月  <span class="number">12</span> <span class="number">15</span>:<span class="number">32</span> include/</span><br><span class="line">drwxr-xr-x  <span class="number">2</span> fangsong fangsong <span class="number">4096</span> <span class="number">1</span>月  <span class="number">12</span> <span class="number">15</span>:<span class="number">31</span> lib/</span><br><span class="line">drwxr-xr-x  <span class="number">3</span> fangsong fangsong <span class="number">4096</span> <span class="number">1</span>月  <span class="number">12</span> <span class="number">15</span>:<span class="number">31</span> thirdpart/</span><br><span class="line">fangsong@fangsong-FX503VD:~/Mycode/project$</span><br></pre></td></tr></table></figure>

<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">g++ main.cpp -I ./include</span><br></pre></td></tr></table></figure>

<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">g++ -c main.cpp -I ./include</span><br></pre></td></tr></table></figure>

<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">g++ -L./lib main.o unit.o -lgtest</span><br></pre></td></tr></table></figure>

<p>![](/home/fangsong/文档/图片/2020-01-12 15-27-45屏幕截图.png)</p>
<p>![](/home/fangsong/文档/图片/2020-01-12 15-19-42屏幕截图.png)</p>
<p>![](/home/fangsong/文档/图片/2020-01-12 14-58-52屏幕截图.png)</p>
<p>![](/home/fangsong/文档/图片/2020-01-12 15-29-47屏幕截图.png)</p>
<p>![](/home/fangsong/文档/图片/2020-01-12 15-35-35屏幕截图.png)</p>
<p>![](/home/fangsong/文档/图片/2020-01-12 15-38-22屏幕截图.png)</p>
<p>编译：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">g++ -L./lib main.cpp unit.c -I./include -lgtest -lpthread </span><br><span class="line">    或者</span><br><span class="line">g++ --<span class="built_in">std</span>=c++<span class="number">11</span> -I./include -L./lib main.cpp unit.c -lgtest -lpthread</span><br></pre></td></tr></table></figure>

<p>![](./图片/2020-01-12 17-01-40屏幕截图.png)</p>
<h2 id="使用gtest"><a href="#使用gtest" class="headerlink" title="使用gtest"></a>使用gtest</h2><p>main.cpp</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iomanip&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;gtest/gtest.h&gt; //谷歌框架的头文件</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"unit.h"</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"> <span class="comment">// TEST此处应该是一个宏</span></span><br><span class="line">TEST(test, add_function) &#123;　<span class="comment">// test是一个测试用例</span></span><br><span class="line">    EXPECT_EQ(add(<span class="number">3</span>, <span class="number">4</span>), <span class="number">7</span>);</span><br><span class="line">    EXPECT_EQ(add(<span class="number">0</span>, <span class="number">0</span>), <span class="number">0</span>);　<span class="comment">// ASSERT_EQ(add(), )　, ASSERT是如果错误到此处，强行停止</span></span><br><span class="line">    EXPECT_EQ(add(<span class="number">-1</span>, <span class="number">-7</span>), <span class="number">-8</span>);　</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span> *argv[])</span> </span>&#123;</span><br><span class="line">    ::testing::InitGoogleTest(&amp;argc, argv);　<span class="comment">// 初始化谷歌框架调用</span></span><br><span class="line">    <span class="keyword">return</span> RUN_ALL_TESTS();　<span class="comment">// 运行所有的测试用例</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>unit.h</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> _UNIT_H</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> _UNIT_H</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span> b)</span></span>;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br></pre></td></tr></table></figure>

<p>unit.c</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"unit.h"</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span> b)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> a + b + <span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>编译和链接程序：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">g++ --<span class="built_in">std</span>=c++<span class="number">11</span> -I./include -L./lib main.cpp unit.c -lgtest -lpthread</span><br></pre></td></tr></table></figure>

<p>-L./lib添加静态链接库搜索路径</p>
<p>-lgtest去找libgtest.a文件</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./a.out</span><br></pre></td></tr></table></figure>

<p>结束！</p>
<p>![](/home/fangsong/文档/图片/2020-01-12 17-01-40屏幕截图.png)</p>
<h3 id="知识点：编译和链接程序"><a href="#知识点：编译和链接程序" class="headerlink" title="知识点：编译和链接程序"></a>知识点：编译和链接程序</h3><blockquote>
<p>-E 预先，将#include的文件展开等<br>-S生成汇编文件<br>-c生成目标文件<br>gcc XX.o -o XX  链接，，输出文件称为XX -O1</p>
<p>，-O2，-O3 优化代码，-O3级最高，-O1为体积<br>-g及-ggdb等，，生成调试信息</p>
<p>-fPIC及-fpic，生成动态链接库时使用，，前者在多平台通用，但程序运行速度慢</p>
<p>-M，-MM，输出文件的依赖关系（各种各样各种.h）文件（写makefile时可以使用）</p>
<dl><dt>-std = c ++ 14（或-std = gnu ++ 14）-std = c ++ 11（或-std = gnu ++ 11）启用c ++ 14/11的信息，其中使用gnu ++ 14会启用gcc的扩展：<br>https</dt><dd>//gcc.gnu.org/projects/cxx0x.html <a href="https://gcc.gnu.org/projects/cxx1y。" target="_blank" rel="noopener">https://gcc.gnu.org/projects/cxx1y。</a> html</dd></dl><p>一般直接用-c生成对象文件，再多个对象文件链接一下即可或<br>不指定参数，直接从多个.cpp文件生成重定向文件-</p>
<p>墙壁输出放置多的警告</p>
<p>-I 头文件路径<br>-L 库文件路径（静态，动态）</p>
<p>-l库文件（不包含扩展名.so或.a)</p>
</blockquote>
<blockquote>
<h2 id="lpthread和-pthread的区别"><a href="#lpthread和-pthread的区别" class="headerlink" title="-lpthread和-pthread的区别"></a><a href="https://www.cnblogs.com/suntp/p/6473751.html" target="_blank" rel="noopener">-lpthread和-pthread的区别</a></h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&gt;编译程序包括 预编译， 编译，汇编，链接，包含头文件了，仅能说明有了线程函数的声明， 但是还没有实现， 加上-lpthread是在链接阶段，链接这个库。&lt;stdio.h&gt;等都是静态库，不需要做额外的表示，连接时会直接链接进代码里。pthread是动态库，需要用-lpthread，所有的动态库都需要用-lxxx来引用</span><br></pre></td></tr></table></figure>

<p>用gcc编译使用了POSIX thread的程序时通常需要加额外的选项，以便使用thread-safe的库及头文件，一些老的书里说直接增加链接选项 -lpthread 就可以了</p>
<p>而gcc手册里则指出应该在编译和链接时都增加 -pthread 选项</p>
<p>编译选项中指定 -pthread 会附加一个宏定义 <strong>-D_REENTRANT</strong>，该宏会导致 libc 头文件选择那些thread-safe的实现；链接选项中指定 -pthread 则同 -lpthread 一样，只表示链接 POSIX thread 库。由于 libc 用于适应 thread-safe 的宏定义可能变化，因此在编译和链接时都使用 -pthread 选项而不是传统的 -lpthread 能够保持向后兼容，并提高命令行的一致性。</p>
<p>目前gcc 4.5.2中已经没有了关于 -lpthread的介绍了。所以以后的多线程编译应该用-pthread，而不是-lpthread。</p>
<p>参考地址：<a href="http://blog.csdn.net/skylinethj/article/details/38569243" target="_blank" rel="noopener">http://blog.csdn.net/skylinethj/article/details/38569243</a></p>
</blockquote>
<p>参考：<a href="https://www.jianshu.com/p/778f835cc18c" target="_blank" rel="noopener">https://www.jianshu.com/p/778f835cc18c</a></p>
<h1 id="修改为自己的测试框架"><a href="#修改为自己的测试框架" class="headerlink" title="修改为自己的测试框架"></a>修改为自己的测试框架</h1><p>mian.cpp</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iomanip&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"haizei_test.h"</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"unit.h"</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line">__attribute__((constructor))  <span class="comment">//属性构造</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">haizei_init</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"hello haizei\n"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">__attribute__((constructor)) <span class="comment">//属性构造:先执行此处，在执行主函数</span></span><br><span class="line">TEST(test, add_function) &#123;</span><br><span class="line">    EXPECT_EQ(add(<span class="number">3</span>, <span class="number">4</span>), <span class="number">7</span>);</span><br><span class="line">    EXPECT_EQ(add(<span class="number">0</span>, <span class="number">0</span>), <span class="number">0</span>);</span><br><span class="line">    EXPECT_EQ(add(<span class="number">-1</span>, <span class="number">-7</span>), <span class="number">-8</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span> *argv[])</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> RUN_ALL_TESTS();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>unit.h</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> _UNIT_H</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> _UNIT_H</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span> b)</span></span>;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br></pre></td></tr></table></figure>

<p>unit.cc</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"unit.h"</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span> b)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> a + b + <span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>haizei_test.h</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> _HAIZEI_TEST_H</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> _HAIZEI_TEST_H</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> TEST(a, b) void a##b()</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> EXPECT_EQ(a, b) &#123;\</span></span><br><span class="line">    <span class="keyword">if</span>(a == b) &#123;\</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"YES\n"</span>);\</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;\</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"NO\n"</span>);\</span><br><span class="line">    &#125;\</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">RUN_ALL_TESTS</span><span class="params">()</span></span>;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br></pre></td></tr></table></figure>

<p>haizei_test.cc</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">RUN_ALL_TESTS</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h4 id="改进"><a href="#改进" class="headerlink" title="改进"></a>改进</h4><p>haizei_test.h</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> _HAIZEI_TEST_H</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> _HAIZEI_TEST_H</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MAX_N 1000</span></span><br><span class="line"><span class="function"><span class="keyword">typedef</span> <span class="title">void</span> <span class="params">(*Func_T)</span><span class="params">()</span></span>;</span><br><span class="line"><span class="keyword">extern</span> Func_T func_arr[MAX_N];</span><br><span class="line"></span><br><span class="line"><span class="keyword">extern</span> <span class="keyword">int</span> func_cnt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> TEST(a, b) \</span></span><br><span class="line">         <span class="keyword">void</span> a#<span class="meta">#b(); \</span></span><br><span class="line">         __attribute__((constructor)) \</span><br><span class="line">         <span class="keyword">void</span> add_#<span class="meta">#a##b() &#123; \</span></span><br><span class="line">             func_arr[func_cnt++] = a##b;\</span><br><span class="line">         &#125; \</span><br><span class="line">         <span class="keyword">void</span> a#<span class="meta">#b()</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> EXPECT_EQ(a, b) &#123;\</span></span><br><span class="line">    <span class="keyword">if</span>(a == b) &#123;\</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"YES\n"</span>);\</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;\</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"NO\n"</span>);\</span><br><span class="line">    &#125;\</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">RUN_ALL_TESTS</span><span class="params">()</span></span>;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br></pre></td></tr></table></figure>

<p>haizei_test.cc</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"haizei_test.h"</span></span></span><br><span class="line"></span><br><span class="line">Func_T func_arr[MAX_N];</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> func_cnt = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">RUN_ALL_TESTS</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; func_cnt; i++) &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"run TEST %d \n"</span>, i + <span class="number">1</span>);</span><br><span class="line">         func_arr[i]();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>







<p>##　泛型宏</p>
<p>根据类型不一样，替换操作</p>
<p>＃停</p>
<p>文件：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">haizei_test.c </span><br><span class="line">main.c    </span><br><span class="line">test.cpp   </span><br><span class="line">unit.c</span><br><span class="line">bin    </span><br><span class="line">haizei_test.h  lib      </span><br><span class="line">makefile  </span><br><span class="line">thirdpart  </span><br><span class="line">unit.h</span><br></pre></td></tr></table></figure>



<p>![](./图片/2020-01-14 18-43-28屏幕截图.png)建立makefile</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">all: <span class="comment">//目标</span></span><br><span class="line">	gcc -o ./bin/haizei_test -<span class="built_in">std</span>=c11 ./main.c ./haizei_test.c ./unit.c　<span class="comment">// 编译 </span></span><br><span class="line">	./bin/haizei_test　<span class="comment">// 执行</span></span><br><span class="line">clean:　<span class="comment">// 编译目标</span></span><br><span class="line">	rm ./bin/haizei_test</span><br></pre></td></tr></table></figure>

<p>然后make</p>
<p>颜色控制：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> COLOR(str, code) <span class="meta-string">"\033["</span> #code <span class="meta-string">"m"</span> str <span class="meta-string">"\033[0m"</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> YELLOW(str) COLOR(str, 33)</span></span><br><span class="line"><span class="comment">//#define YELLOW(str) "\033[33m" str"\033[0m"</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">printf</span>(YELLOW(<span class="string">"ping攻击中...\n"</span>));</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"\033[5;33;46m警告！！！\033[0m"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>




      
      <!-- reward -->
      
    </div>
    
    
      <!-- copyright -->
      
    <footer class="article-footer">
      
      

    </footer>

  </div>

  

  
  
  

  

</article>
    
    <article id="post-Mynotes/C语言/C语言csdn博客总结" class="article article-type-post" itemscope
  itemprop="blogPost" data-scroll-reveal>

  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2020/05/29/Mynotes/C%E8%AF%AD%E8%A8%80/C%E8%AF%AD%E8%A8%80csdn%E5%8D%9A%E5%AE%A2%E6%80%BB%E7%BB%93/"
    >Mynotes/C语言/C语言csdn博客总结</a> 
</h2>
 

    </header>
    

    
    <div class="article-meta">
      <a href="/2020/05/29/Mynotes/C%E8%AF%AD%E8%A8%80/C%E8%AF%AD%E8%A8%80csdn%E5%8D%9A%E5%AE%A2%E6%80%BB%E7%BB%93/" class="article-date">
  <time datetime="2020-05-29T06:22:35.925Z" itemprop="datePublished">2020-05-29</time>
</a>
      
      
      
      
    </div>
    

    

    
    <div class="article-entry" itemprop="articleBody">
      
      

      
      <p>##　C语言基础</p>
<p>[TOC]</p>
<h3 id="数制"><a href="#数制" class="headerlink" title="数制"></a>数制</h3><p>对于一个 10 进制整型 int 数字，12 转化为二进制数字 0000 1100，八进制 0000 0014，十六进制：<code>0x0C</code></p>
<p>求反码补码，正数的补码反码都是一样的，区别在与负数的补码，对一个负数求补码至于要取绝对值然后取反加 1 就可。（按位取反末位加１）</p>
<p><strong><code>ASCLL</code>的数值取值范围为什么是0 - 127 ?</strong></p>
<p>因为<font color=red>提高代码可移植性</font>，无符号取值范围是0<del>255, 有符号的取值范围范围是-128</del>+127, 两个取值范围的交集是0~127, 所以<code>ASCLL</code>的取值正好是这个地方</p>
<h3 id="基本数据类型"><a href="#基本数据类型" class="headerlink" title="基本数据类型"></a>基本数据类型</h3><p><img src="./%E5%9B%BE%E7%89%87/%E5%9F%BA%E6%9C%AC%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B.jpg" alt=""></p>
<p><img src="./%E5%9B%BE%E7%89%87/%E5%9F%BA%E6%9C%AC%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%EF%BC%92.png" alt=""></p>
<blockquote>
<p><font color =red>short , int, long, char, double</font>这六个关键字代表ｃ语言中六种基本类型。<br>在不同系统上，他们占据字节长度是不同的：<br>在３２位系统上<br><font color = blue>short</font>占据的内存大小是<font color=red>2个byte</font><br><font color = blue>int</font>占据的内存大小是<font color=red>4个byte</font><br><font color = blue>long</font>占据的内存大小是<font color=red>4个byte</font><br><font color = blue>float</font>占据的内存大小是<font color=red>4个byte</font><br><font color = blue>double</font>占据的内存大小是<font color=red>8个byte</font><br><font color = blue>char</font>占据的内存大小是<font color=red>1个byte</font> </p>
</blockquote>
<h3 id="关于char的死循环"><a href="#关于char的死循环" class="headerlink" title="关于char的死循环"></a>关于char的死循环</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">char</span> i = <span class="number">0</span>;i &lt; <span class="number">128</span>;i++)</span><br><span class="line">    &#123;    </span><br><span class="line">        <span class="built_in">printf</span>(“%d ”,i);<span class="comment">//为什么死循环</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p> 程序分析：</p>
<p>上述的for循环语句，i 的取值从0到127这阶段的循环语句执行正常。当i=128时，由于超出char取值范围，编译器会将ch值变为-128，仍然满足 &lt; 128条件，继续执行循环，同时 i++。由于每次for循环 i 都自增（ i++），i 值将会逐渐从-128递增到0，这时又回到了for循环的起始条件处( i =0)，当再次递增到127后，i 值又会变为-128，以后不断循环。 从以上分析中可以看出，“ i++ ”语句并没有使i值一直增加，相反 i 值不断在“-128到127”中循环变化，使得 “i&lt;128” 永远成立，程序陷入死循环。</p>
<h3 id="第一个C语言程序"><a href="#第一个C语言程序" class="headerlink" title="第一个C语言程序"></a>第一个C语言程序</h3><blockquote>
<p>(1)#include&lt;stdio.h&gt;//包含我们需要的库函数printf();</p>
<p>(2) printf()函数，分别打印各种类型是所需要的格式化符不一样。</p>
<p>(3) 每一个程序在从源码到执行所需要的过程：预编译，编译，汇编，链接 </p>
</blockquote>
<img src="./图片/C语言预编译编辑汇编链接.png" style="zoom: 70%;" />

<h3 id="scanf函数的不安全性分析"><a href="#scanf函数的不安全性分析" class="headerlink" title="scanf函数的不安全性分析"></a>scanf函数的不安全性分析</h3><blockquote>
<p>通过<code>scanf</code>函数可以接受任何的键盘输入，如果输入长度超过了给定的缓冲区，就会覆盖其他数据区，这就是称为<font color = red>“堆栈溢出”</font>或<font color = red>“缓冲区溢出”</font> 。而<code>scanf</code>函数有三个特点：<br>１．取数据时遇到空格、回车、ＴＡＢ就会停止<br>２．<code>scanf</code> 函数和都是从<B>输入流缓冲区</B> 读取数据的，而不是从键盘（终端）缓冲区读取值的。读取<font color = red >遇到回车\n就结束</font>，且回车<code>\n</code>会被读入输入缓冲数据流中，这样第二次的读入函数将缓冲区中的<code>\n</code>读取走了，没有等待键盘的第二次输入。<br>３． <code>scanf</code>读取字符串时，<font color = red > 会舍弃最后的回车符 </font>。</p>
</blockquote>
<h3 id="变量及类型转换"><a href="#变量及类型转换" class="headerlink" title="变量及类型转换"></a>变量及类型转换</h3><img src="./图片/变量及类型转换.png" style="zoom: 50%;" />

<p>int a = 10;计算机会分配 4 个字节给变量a存储 10，且是二进制。在定义变量的时候;</p>
<p>那么，在C语言运行的时候变量到底储存在内存的什么地方呢？首先我们需要知道，内存被分为<strong>栈（stack）</strong>和<strong>堆（heap）</strong>。<strong>变量是储存在栈上的</strong>，就像这样</p>
<img src="./图片/变量到底储.png" style="zoom:33%;" />

<p>根据代码的执行顺序，<strong>变量a首先被压入栈中，然后是变量b</strong>。出栈时，是b先出栈，然后是a，即先进后出。<strong>变量在程序执行完毕后会自动释放掉存储单元。</strong><br><strong>内存中栈有多大？而堆又有多大？</strong>  栈对于不同的机器都不相同，大约1M-2M。<br><strong>堆原则上是没限制的</strong>，你的硬件有多大的存储空间就可以分配相应大小的堆，另外定义在堆中的需要程序员<strong>手动回收</strong>。<br>当不同类型变量之间发生赋值的时候，会发生一些转换。分别有<strong>显式类型转换</strong>和<strong>隐式类型转换</strong>。</p>
<p><strong>大小端：</strong></p>
<p>大端模式，是指<strong>数据的高字节</strong>保存在内存的<strong>低地址</strong>中，而数据的低字节保存在内存的高地址中，这样的存储模式有点儿类似于把数据当作字符串顺序处理：地址由小向大增加，而数据从高位往低位放；这和我们的阅读习惯一致。</p>
<p>小端模式，是指<strong>数据的高字节</strong>保存在内存的<strong>高地址</strong>中，而数据的低字节保存在内存的低地址中，这种存储模式将地址的高低和数据位权有效地结合起来，高地址部分权值高，低地址部分权值低。</p>
<h2 id="C程序指针（一）"><a href="#C程序指针（一）" class="headerlink" title="C程序指针（一）"></a>C程序指针（一）</h2><h3 id="指针"><a href="#指针" class="headerlink" title="指针"></a>指针</h3><p><strong>指针</strong>是一个变量，其值为另一个变量的地址，即，<font color=red>内存位置的直接地址</font>。 </p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> *p;  <span class="comment">//野指针</span></span><br><span class="line"><span class="keyword">int</span> *p = <span class="literal">NULL</span>;   <span class="comment">//0号地址   不能访问0号地址</span></span><br></pre></td></tr></table></figure>

<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">printf</span>(<span class="string">"%d"</span>,p[i])    <span class="comment">// *(p+i);  *解引用    []自带解引用</span></span><br><span class="line"><span class="keyword">int</span> *p       p+<span class="number">1</span>表示p向后挪<span class="number">4</span>个字节（<span class="keyword">int</span>* 类型）</span><br></pre></td></tr></table></figure>

<p><font color=red>一个任何类型的指针变量所占的字节大小都为4个字节</font></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> *p=&amp;a</span><br><span class="line"><span class="keyword">int</span> **pp=&amp;p</span><br><span class="line"><span class="keyword">int</span> ***ppp=&amp;pp</span><br></pre></td></tr></table></figure>

<p><font color = red>一级指针：变量的地址</font><br><font color=red> 二级指针：存放的是一级指针的地址</font></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> a = <span class="number">10</span>;</span><br><span class="line"><span class="keyword">int</span> *p = &amp;a; <span class="comment">//一级指针存放变量地址 即 p=&amp;a</span></span><br><span class="line"><span class="keyword">int</span> **p = &amp;p;  <span class="comment">//二级指针存放的是一级指针的地址</span></span><br></pre></td></tr></table></figure>

<h3 id="常量指针"><a href="#常量指针" class="headerlink" title="常量指针"></a>常量指针</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> * <span class="keyword">const</span> p，p是一个常量类型的指针，不能修改这个指针的指向，但是这个指针所指向的地址上存储的值可以修改。</span><br></pre></td></tr></table></figure>

<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> <span class="keyword">const</span> *p=&amp;a  </span><br><span class="line">*p=<span class="number">100</span>(正确，可以修改指针所指向的地址上存储的值)</span><br><span class="line">p=&amp;b（错误，不能修改指针指向）</span><br></pre></td></tr></table></figure>

<h3 id="指向常量的指针"><a href="#指向常量的指针" class="headerlink" title="指向常量的指针"></a>指向常量的指针</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> *p，定义一个指针指向一个常量，不能通过指针来修改这个指针指向的值</span><br></pre></td></tr></table></figure>

<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> *p=&amp;a  </span><br><span class="line">*p=<span class="number">100</span>(错误，不能修改指针所指向的地址上存储的值)</span><br><span class="line">p=&amp;b（正确，可以修改指针指向）</span><br></pre></td></tr></table></figure>

<h3 id="访问数组中的元素"><a href="#访问数组中的元素" class="headerlink" title="访问数组中的元素"></a>访问数组中的元素</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> arr[<span class="number">5</span>] = &#123;<span class="number">5</span>,<span class="number">4</span>,<span class="number">3</span>,<span class="number">2</span>,<span class="number">1</span>&#125;;</span><br><span class="line"><span class="keyword">int</span> len = <span class="keyword">sizeof</span>(arr)/<span class="keyword">sizeof</span>(arr[<span class="number">0</span>]);</span><br><span class="line"><span class="keyword">int</span> *p = arr;   <span class="comment">//p指向arr数组的首元素</span></span><br><span class="line"><span class="keyword">int</span> a = *p+<span class="number">3</span>;   <span class="comment">//*p+3为arr数组首元素的值加3</span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%d\n"</span>,a);  </span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%d\n"</span>,&amp;arr);       <span class="comment">//数组名代表首元素的首地址</span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%d\n"</span>,&amp;arr+<span class="number">1</span>);     <span class="comment">//&amp;arr+1代表首地址加数组的length</span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%d\n"</span>,&amp;arr[<span class="number">0</span>]);    <span class="comment">//arr[0]的地址</span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%d\n"</span>,&amp;arr[<span class="number">4</span>]);    <span class="comment">//arr[4]的地址</span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%d\n"</span>,arr);        <span class="comment">//数组名代表首元素的首地址</span></span><br></pre></td></tr></table></figure>

<img src="./图片/访问数组.png" style="zoom: 50%;" />

<h3 id="字符数组"><a href="#字符数组" class="headerlink" title="字符数组"></a>字符数组</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">char</span> crr[<span class="number">5</span>]=&#123;<span class="string">'a'</span>,<span class="string">'b'</span>,<span class="string">'c'</span>,<span class="string">'d'</span>&#125;;      <span class="comment">//字符数组,元素用单引号，最后补'\0'(结束标志)</span></span><br><span class="line"><span class="keyword">char</span> crr[<span class="number">5</span>]=&#123;<span class="string">'a'</span>,<span class="string">'b'</span>,<span class="string">'c'</span>,<span class="string">'d'</span>,<span class="string">'e'</span>&#125;;  <span class="comment">//此时最后无'\0', %s打印时会遇到错误</span></span><br><span class="line"><span class="keyword">char</span> crr[<span class="number">5</span>]=<span class="string">"abcd"</span>;   <span class="comment">//也是字符数组，最后默认加 '\0'</span></span><br><span class="line"><span class="keyword">char</span> crr[<span class="number">5</span>]=<span class="string">"abcde"</span>;  <span class="comment">//错误，默认最后加 '\0'</span></span><br></pre></td></tr></table></figure>

<h3 id="‘-0’-‘0’-“0”-0的区别"><a href="#‘-0’-‘0’-“0”-0的区别" class="headerlink" title="‘\0’  ‘0’  “0” 0的区别"></a><strong>‘\0’  ‘0’  “0” 0的区别</strong></h3><p>在<a href="http://lib.csdn.net/base/c" target="_blank" rel="noopener">C语言</a>中，字符是按其所对应的ASCII码来存储的，一个字符占一个字节</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">char</span> ch1 = <span class="number">0x00</span>;   <span class="comment">//0</span></span><br><span class="line"><span class="keyword">char</span> ch3 = <span class="number">0</span>;      <span class="comment">//0</span></span><br><span class="line"><span class="keyword">char</span> ch4 = <span class="string">'\0'</span>;   <span class="comment">//0</span></span><br><span class="line"><span class="keyword">char</span> ch2 = <span class="string">'0'</span>;   <span class="comment">//48</span></span><br></pre></td></tr></table></figure>

<p><strong>‘0’ 和 “0”</strong></p>
<blockquote>
<p><strong>字符常量由单引号括起来；字符串常量由双引号括起来<br>字符常量只能是单个字符；字符串常量则可以含一个或多个字符</strong></p>
</blockquote>
<p><strong>‘\0’ 和 ‘0’</strong></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">它们都是字符，在C/C++语言中，字符是按其所对应的ASCII码来存储的，一个字符占一个字节。第一个ASCII码是<span class="number">0</span>，对应的字符是Null，其实就是<span class="string">'\0'</span>，即空字符。判断一个字符串是否结束的标志就是看是否遇到<span class="string">'\0'</span>，<span class="string">'\0'</span>表示字符串结束。字符<span class="string">'0'</span>对应的ASCII码是<span class="number">48</span>，通常用字符转化为数字会用到，比如要将<span class="string">'7'</span>转换为数字<span class="number">7</span>，即 <span class="string">'7'</span>-<span class="string">'0'</span>。但是字符常量也可以像整数一样在程序中参与相关运算。如：<span class="string">'7'</span><span class="number">-3</span>；此时要注意它是把<span class="string">'7'</span>转换成对应的ASCII码再运算。</span><br></pre></td></tr></table></figure>

<h3 id="sizeof与strlen的区别与联系"><a href="#sizeof与strlen的区别与联系" class="headerlink" title="sizeof与strlen的区别与联系"></a>sizeof与strlen的区别与联系</h3><blockquote>
<p><strong>sizeof</strong> 返回的是变量声明后所占的<strong>内存数</strong>，<strong>不是实际长度</strong>，<strong>计算时包括 ‘\0’,</strong>此外<strong>sizeof不是函数，仅仅是一个操作符</strong>，<strong>strlen是函数。</strong></p>
<p><strong>strlen()是一个函数</strong>，测量的是<strong>字符的实际长度</strong>，以’\0’ 结束，但<strong>计算时不包括 ‘\0’</strong></p>
</blockquote>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">char</span> str1[<span class="number">100</span>] = <span class="string">"abcdef"</span>;</span><br><span class="line"><span class="keyword">char</span> *str2 = <span class="string">"abcdef"</span>;</span><br><span class="line"><span class="keyword">char</span> str3[] = <span class="string">"abcdef"</span>;</span><br><span class="line"><span class="keyword">char</span> str4[<span class="number">100</span>] = <span class="string">"abcdef\0xyz"</span>;</span><br><span class="line"><span class="keyword">char</span> *str5 = <span class="string">"abcdef\0xyz"</span>;</span><br><span class="line"><span class="keyword">char</span> str6[] = <span class="string">"abcdef\0xyz"</span>;</span><br><span class="line"><span class="keyword">char</span> str7[] = <span class="string">"abcdef\n\0"</span>;</span><br><span class="line"><span class="keyword">char</span> *str8 = <span class="string">"abcdef\n\0"</span>;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%d,%d\n"</span>,<span class="keyword">sizeof</span>(str1),<span class="built_in">strlen</span>(str1));     <span class="comment">// 100  6</span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%d,%d\n"</span>,<span class="keyword">sizeof</span>(str2),<span class="built_in">strlen</span>(str2));     <span class="comment">// 4    6</span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%d,%d\n"</span>,<span class="keyword">sizeof</span>(str3),<span class="built_in">strlen</span>(str3));     <span class="comment">// 7    6</span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%d,%d\n"</span>,<span class="keyword">sizeof</span>(str4),<span class="built_in">strlen</span>(str4));     <span class="comment">// 100  6</span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%d,%d\n"</span>,<span class="keyword">sizeof</span>(str5),<span class="built_in">strlen</span>(str5));     <span class="comment">// 4    6</span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%d,%d\n"</span>,<span class="keyword">sizeof</span>(str6),<span class="built_in">strlen</span>(str6));     <span class="comment">// 11   6</span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%d,%d\n"</span>,<span class="keyword">sizeof</span>(str7),<span class="built_in">strlen</span>(str7));     <span class="comment">// 9    7 </span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%d,%d\n"</span>,<span class="keyword">sizeof</span>(str8),<span class="built_in">strlen</span>(str8));     <span class="comment">// 4    7</span></span><br></pre></td></tr></table></figure>

<p><strong>指针数组</strong></p>
<p>指针数组：指针数组可以说成是”指针的数组”，首先这个变量是一个数组，其次，”指针”修饰这个数组，意思是说<strong>这个数组的所有元素都是指针类型，在32位系统中，指针占四个字节。</strong><br>定义：<strong>int   *p[n];</strong></p>
<p>[]优先级高，先<strong>与p结合成为一个数组</strong>，再<strong>由 int 说明这是一个整型指针数组</strong>，<strong>它有n个指针类型的数组元素</strong>。</p>
<p>首先先定义一个指针数组，既然是数组，名字就叫arr；</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">char</span> *arr[<span class="number">4</span>] = &#123;<span class="string">"hello"</span>, <span class="string">"world"</span>, <span class="string">"shannxi"</span>, <span class="string">"xian"</span>&#125;;</span><br><span class="line"><span class="comment">/*arr就是定义的一个指针数组，它有四个元素，</span></span><br><span class="line"><span class="comment">每个元素是一个char *类型的指针，这些指针存放着其对应字符串的首地址。</span></span><br><span class="line"><span class="comment">这个指针数组有多大呢？答案是16个字节，因为它是一个指针数组。  */</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>数组指针只是一个指针变量，似乎是C语言里专门用来指向二维数组的，它占有内存中一个指针的存储空间。</p>
<p>指针数组是多个指针变量，以数组形式存在内存当中，占有多个指针的存储空间。</p>
<p>还需要说明的一点就是，同时用来指向二维数组时，其引用和用数组名引用都是一样的。<br>比如要表示数组中 i 行 j 列一个元素：<code>*(p[i]+j)、*(*(p+i)+j)、p[i][j]、(*(p+i))[j]。优先级：() &gt; [] &gt; *</code></p>
</blockquote>
<h3 id="二维数组的打印"><a href="#二维数组的打印" class="headerlink" title="二维数组的打印"></a>二维数组的打印</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">show</span><span class="params">(<span class="keyword">int</span> (*brr)[<span class="number">3</span>],<span class="keyword">int</span> row,<span class="keyword">int</span> col)</span>  <span class="comment">//row 行    col 列</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="comment">//先遍历行，再遍历列</span></span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;row;i++)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;col;j++)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">"%d "</span>,brr[i][j]);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="函数指针与指针函数"><a href="#函数指针与指针函数" class="headerlink" title="函数指针与指针函数"></a>函数指针与指针函数</h2><h3 id="1、函数指针"><a href="#1、函数指针" class="headerlink" title="1、函数指针"></a>1、函数指针</h3><p>定义：函数指针，其<strong>本质是一个指针变量</strong>，该<strong>指针指向这个函数</strong>。总结来说，<strong>函数指针就是指向函数的指针</strong>。 </p>
<p>声明格式：*<em>类型说明符 (</em>函数名) (参数) **</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> (*f)(<span class="keyword">int</span> x); <span class="comment">//声明一个函数指针</span></span><br><span class="line"> </span><br><span class="line">f=func;  <span class="comment">//将func函数的首地址赋给指针f</span></span><br></pre></td></tr></table></figure>

<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">Max</span><span class="params">(<span class="keyword">int</span> a,<span class="keyword">int</span> b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">return</span> a&gt;b?a:b;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> (*Pfun)(<span class="keyword">int</span>,<span class="keyword">int</span>) = Max;     <span class="comment">//Pfun函数指针</span></span><br><span class="line">	<span class="keyword">int</span> max = Pfun(<span class="number">10</span>,<span class="number">20</span>);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"%d"</span>,max);</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="2、指针函数"><a href="#2、指针函数" class="headerlink" title="2、指针函数"></a>2、指针函数</h3><p>定义：指针函数，简单的来说，就是一个<strong>返回指针的函数</strong>，其本质是一个函数，而该函数<strong>的返回值是一个指针</strong>。<br>声明格式为：<strong>类型标识符  * 函数名(参数表)</strong></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> *<span class="title">fun</span><span class="params">(<span class="keyword">int</span> x,<span class="keyword">int</span> y)</span></span>;</span><br></pre></td></tr></table></figure>

<p>首先它是一个函数，只不过这个函数的返回值是一个地址值。函数返回值必须用同类型的指针变量来接受，也就是说，指针函数一定有函数返回值，而且，在主调函数中，函数返回值必须赋给同类型的指针变量。</p>
<h3 id="3、区别"><a href="#3、区别" class="headerlink" title="3、区别"></a>3、区别</h3><p><strong>定义不同</strong><br>指针函数本质是一个函数，其返回值为指针。<br>函数指针本质是一个指针，其指向一个函数。</p>
<p>写法不同<br>函数指针：int (<em>Pfun)(int,int)<br>指针函数：int * Pfun(int,int)<br>再简单一点，可以这样辨别两者：函数名带</em>带括号的就是函数指针，带*不带括号就是指针函数。</p>
<h2 id="作用域规则"><a href="#作用域规则" class="headerlink" title="作用域规则"></a>作用域规则</h2><p><img src="./%E5%9B%BE%E7%89%87/%E4%BD%9C%E7%94%A8%E5%9F%9F%E8%A7%84%E5%88%99.png" alt=""></p>
<p><img src="/home/fangsong/%E5%9B%BE%E7%89%87/%E4%BD%9C%E7%94%A8%E5%9F%9F%E8%A7%84%E5%88%992.png" alt=""></p>
<p>由于被 static 修饰的变量总是存在<strong>内存的静态区</strong>，所以即使这个函数运行结束，这个静态变量的值还是不会被销毁，<strong>函数下次使用时仍然能用到这个值</strong></p>
<h2 id="C程序设计-结构体与共用体"><a href="#C程序设计-结构体与共用体" class="headerlink" title="C程序设计 结构体与共用体"></a>C程序设计 结构体与共用体</h2><h3 id="访问结构体成员"><a href="#访问结构体成员" class="headerlink" title="访问结构体成员"></a>访问结构体成员</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Student</span></span></span><br><span class="line"><span class="class"> &#123;</span></span><br><span class="line">	 <span class="keyword">char</span> name[<span class="number">10</span>];</span><br><span class="line">	 <span class="keyword">int</span> Age;</span><br><span class="line"> &#125;pupil = &#123;<span class="string">"zhao"</span>,<span class="number">18</span>&#125;;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	Student *p = &amp;pupil;   <span class="comment">// 定义结构体指针，指向结构体变量pupil</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"%s,%d\n"</span>,pupil.name,pupil.Age);  <span class="comment">// 使用 “ 结构体变量名.成员名 ” 访问</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"%s,%d\n"</span>,p-&gt;name,p-&gt;Age);  <span class="comment">// 使用 “ 结构体指针 -&gt; 成员名 ” 访问</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Student</span></span></span><br><span class="line"><span class="class"> &#123;</span></span><br><span class="line">	 <span class="keyword">char</span> name[<span class="number">10</span>];</span><br><span class="line">	 <span class="keyword">int</span> Age;</span><br><span class="line">&#125;pupil;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">Student</span> <span class="title">stu</span> =&#123;</span><span class="string">"zhao"</span>,<span class="number">18</span>&#125;;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"%s,%d\n"</span>,stu.name,stu.Age);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">Student</span></span></span><br><span class="line"><span class="class"> &#123;</span></span><br><span class="line">	 <span class="keyword">char</span> name[<span class="number">10</span>];</span><br><span class="line">	 <span class="keyword">int</span> Age;</span><br><span class="line">&#125;pupil;  <span class="comment">// 相当于Student的别名</span></span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	pupil stu = &#123;<span class="string">"zhao"</span>,<span class="number">18</span>&#125;; <span class="comment">// 若没有typedef，则必须使用 struct Student stu</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"%s,%d\n"</span>,stu.name,stu.Age);  <span class="comment">// 使用 “ 结构体变量名.成员名 ” 访问</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="结构体的输出"><a href="#结构体的输出" class="headerlink" title="结构体的输出"></a><strong>结构体的输出</strong></h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"> <span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">Student</span></span></span><br><span class="line"><span class="class"> &#123;</span></span><br><span class="line">	 <span class="keyword">char</span> name[<span class="number">10</span>];</span><br><span class="line">	 <span class="keyword">int</span> Age;</span><br><span class="line"> &#125;pupil;</span><br><span class="line"> </span><br><span class="line"> <span class="function"><span class="keyword">void</span> <span class="title">show</span><span class="params">(pupil *p,<span class="keyword">int</span> len)</span>   </span></span><br><span class="line"><span class="function"> </span>&#123;</span><br><span class="line">	 <span class="keyword">for</span>(<span class="keyword">int</span> i =<span class="number">0</span>;i&lt;len;i++)</span><br><span class="line">	 &#123;</span><br><span class="line">		 <span class="built_in">printf</span>(<span class="string">"%s,%d\n"</span>,p[i].name,p[i].Age);</span><br><span class="line">	 &#125;</span><br><span class="line">	 <span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line"> &#125;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	pupil arr[<span class="number">3</span>]=&#123;&#123;<span class="string">"cc"</span>,<span class="number">18</span>&#125;,&#123;<span class="string">"dd"</span>,<span class="number">19</span>&#125;,&#123;<span class="string">"ee"</span>,<span class="number">20</span>&#125;&#125;;</span><br><span class="line">	<span class="keyword">int</span> len = <span class="keyword">sizeof</span>(arr)/<span class="keyword">sizeof</span>(arr[<span class="number">0</span>]);</span><br><span class="line">	show(arr,len);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>嵌套结构体的输出</strong></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">A</span></span></span><br><span class="line"><span class="class"> &#123;</span></span><br><span class="line">	 <span class="keyword">char</span> a;</span><br><span class="line">	 <span class="keyword">int</span> b;</span><br><span class="line"> &#125;Aa;</span><br><span class="line"> </span><br><span class="line"> <span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">B</span></span></span><br><span class="line"><span class="class"> &#123;</span></span><br><span class="line">	 <span class="keyword">int</span> i;    </span><br><span class="line">	 <span class="class"><span class="keyword">struct</span> <span class="title">A</span> <span class="title">Aaa</span>;</span></span><br><span class="line">	 <span class="class"><span class="keyword">struct</span> <span class="title">A</span> *<span class="title">P</span>;</span></span><br><span class="line"> &#125;Bb;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	Aa s1 = &#123;<span class="string">'a'</span>,<span class="number">18</span>&#125;;</span><br><span class="line">	Bb s2;</span><br><span class="line">	s2.Aaa = s1;    <span class="comment">// Aaa相当于Aa </span></span><br><span class="line">	s2.P = &amp;s1;  </span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"%c,%d\n"</span>,s1.a,s1.b);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"%c,%d\n"</span>,s2.Aaa.a,s2.Aaa.b);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"%c,%d\n"</span>,s2.P-&gt;a,s2.P-&gt;b);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="typedef关键字"><a href="#typedef关键字" class="headerlink" title="typedef关键字"></a>typedef关键字</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> (*P)[<span class="number">3</span>];         <span class="comment">//此时P是数组指针类型的变量变量</span></span><br><span class="line">typedef int (*P)[3]; //此时P代表数组指针类型，用它可以定义一个数组指针类型的变量</span><br><span class="line"> </span><br><span class="line"><span class="keyword">int</span> (*Pfun)(<span class="keyword">int</span>,<span class="keyword">int</span>); <span class="comment">//此时Pfun是函数指针类型的变量</span></span><br><span class="line"><span class="function"><span class="keyword">typedef</span> <span class="title">int</span> <span class="params">(*Pfun)</span><span class="params">(<span class="keyword">int</span>,<span class="keyword">int</span>)</span></span>; <span class="comment">//此时Pfun代表Pfun是函数指针类型，它可以定义一个函数指针类型的变量</span></span><br><span class="line"> </span><br><span class="line"><span class="keyword">unsigned</span> <span class="keyword">int</span> Unint;   <span class="comment">//此时Unint是无符号整型变量</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">unsigned</span> <span class="keyword">int</span> Unint;  <span class="comment">//此时Unint代表是无符号整型类型，它可以定义一个无符号整型的变量</span></span><br><span class="line"> </span><br><span class="line"><span class="keyword">int</span> INT;  <span class="comment">//此时INT是有符号整型变量</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">int</span> INT;  <span class="comment">//此时Unint代表是有符号整型类型，它可以定义一个有符号整型的变量</span></span><br><span class="line"> </span><br><span class="line"><span class="keyword">int</span> A[<span class="number">10</span>];  <span class="comment">//此时A代表一个整形数组名</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">int</span> A[<span class="number">10</span>];  <span class="comment">//此时A代表一个整形数组类型，它可以定义一个整形数组</span></span><br></pre></td></tr></table></figure>

<p><strong>typedef与const</strong></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> i = <span class="number">10</span>;</span><br><span class="line"><span class="keyword">int</span> i2 = <span class="number">100</span>;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> *p3 = &amp;i;  <span class="comment">//const修饰*p3，*p3不可变</span></span><br><span class="line">*p3 = <span class="number">1000</span>;</span><br><span class="line">p3 = &amp;i2; </span><br><span class="line">	</span><br><span class="line"><span class="keyword">int</span>* <span class="keyword">const</span> p4 = &amp;i;  <span class="comment">//const修饰指针p4，p4不可变</span></span><br><span class="line">*p4 = <span class="number">1000</span>;</span><br><span class="line">p4 = &amp;i2; </span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">int</span> *PP;   <span class="comment">//由int*类型变量提升为int*类型</span></span><br><span class="line"> </span><br><span class="line"><span class="keyword">const</span> PP p1 = &amp;i;   <span class="comment">// const修饰指针p1，p1不可变</span></span><br><span class="line">*p1 = <span class="number">100</span>;  </span><br><span class="line">p1 = &amp;i2; </span><br><span class="line"> </span><br><span class="line">PP <span class="keyword">const</span> p2 = &amp;i;    <span class="comment">// const修饰指针p2，p2不可变</span></span><br><span class="line">*p2 = <span class="number">100</span>;</span><br><span class="line">p2 = &amp;i2;</span><br></pre></td></tr></table></figure>

<p><strong>typedef与define</strong> </p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="keyword">int</span> *PP;   <span class="comment">// PP a,b  a,b都是int*类型</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> P int*;    <span class="comment">//  p a,b  a是int*类型  b是int类型</span></span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">typedef 是改变类型</span></span><br><span class="line"><span class="comment">define 是简单的替换</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>

<p><strong>typedef与结构体</strong> </p>
<p>可以对结构体使用 typedef 来定义一个新的数据类型名字，然后<font color = red>使用它来直接定义结构变量</font></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">Student</span></span></span><br><span class="line"><span class="class"> &#123;</span></span><br><span class="line">	 <span class="keyword">char</span> name[<span class="number">10</span>];</span><br><span class="line">	 <span class="keyword">int</span> Age;</span><br><span class="line">&#125;pupil;  <span class="comment">// pupil此时不再是变量，而是类型名，相当于Student的别名</span></span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//使用pupil直接定义变量，若没有typedef，则必须使用 struct Student stu</span></span><br><span class="line">    pupil stu = &#123;<span class="string">"zhao"</span>,<span class="number">18</span>&#125;; </span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"%s,%d\n"</span>,stu.name,stu.Age);  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="结构体的大小与内存对齐"><a href="#结构体的大小与内存对齐" class="headerlink" title="结构体的大小与内存对齐"></a>结构体的大小与内存对齐</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">AA</span> </span></span><br><span class="line"><span class="class">&#123;</span> </span><br><span class="line">	<span class="keyword">char</span> a;   <span class="comment">// 1 + 3</span></span><br><span class="line">	<span class="keyword">short</span> b; <span class="comment">//  4</span></span><br><span class="line">	<span class="keyword">int</span> c;   <span class="comment">// 4</span></span><br><span class="line">	<span class="keyword">double</span> d;  <span class="comment">// 8</span></span><br><span class="line">&#125;;  <span class="comment">//16</span></span><br><span class="line"> </span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">A</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">	<span class="keyword">char</span> a;   <span class="comment">// 1 + 3   [0,1,2,3] (1,2,3浪费)</span></span><br><span class="line">	<span class="keyword">int</span> b;    <span class="comment">// 4  [4,5,6,7]</span></span><br><span class="line">&#125;; <span class="comment">//[0-7]  大小为8,向前对齐</span></span><br><span class="line"> </span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">A1</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">	<span class="keyword">char</span> a;   <span class="comment">//1</span></span><br><span class="line">	<span class="keyword">char</span> c;   <span class="comment">//1 </span></span><br><span class="line">	<span class="keyword">int</span> b;    <span class="comment">//4  </span></span><br><span class="line">&#125;s; <span class="comment">// 大小为8</span></span><br><span class="line"> </span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">B</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">	<span class="keyword">char</span> a;   <span class="comment">//1 + 1  [0,1]</span></span><br><span class="line">	<span class="keyword">short</span> b;  <span class="comment">//2  [2,3]</span></span><br><span class="line">	<span class="keyword">int</span> c;    <span class="comment">// 4  [4,5,6,7]</span></span><br><span class="line">&#125;; <span class="comment">//   [0-7]大小为8,向前对齐</span></span><br><span class="line"> </span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">C</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">	<span class="keyword">char</span> a;   <span class="comment">// 1 + 3  [0,1,2,3]</span></span><br><span class="line">	<span class="keyword">int</span> b;    <span class="comment">// 4  [4,5,6,7]</span></span><br><span class="line">	<span class="keyword">short</span> c;  <span class="comment">// 2 + 6  [8-15]</span></span><br><span class="line">	<span class="keyword">double</span> d; <span class="comment">// 8  [16-23]</span></span><br><span class="line">&#125;; <span class="comment">// [0-23]大小为24,向前对齐</span></span><br><span class="line"> </span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">D</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">	<span class="keyword">char</span> a;   <span class="comment">// 1 [0]</span></span><br><span class="line">	<span class="keyword">char</span> b;   <span class="comment">// 1 [1]</span></span><br><span class="line">	<span class="keyword">short</span> c;  <span class="comment">// 2 [2,3]</span></span><br><span class="line">	<span class="keyword">int</span> d;    <span class="comment">// 4 [4,5,6,7]</span></span><br><span class="line">&#125;; <span class="comment">// [0-7]大小为8,向前对齐</span></span><br><span class="line"> </span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">E</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">char</span> a;   <span class="comment">// 1 + 1 [0,1]</span></span><br><span class="line">    <span class="keyword">short</span> c;   <span class="comment">// 2 [2,3]</span></span><br><span class="line">    <span class="keyword">char</span> b;  <span class="comment">// 1 + 3 [4,5,6,7]</span></span><br><span class="line">	<span class="keyword">int</span> d;  <span class="comment">// 4 [8,9,10,11]</span></span><br><span class="line">&#125;; <span class="comment">// [0-11]大小为12,向前对齐</span></span><br><span class="line"> </span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">F</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">int</span> a;  <span class="comment">// 4 [0,1,2,3]</span></span><br><span class="line">    <span class="keyword">char</span> c; <span class="comment">// 1 + 3  [4,5,6,7]</span></span><br><span class="line">&#125;; <span class="comment">//[0-7]大小为8，向后对齐，一般只有两个数据成员</span></span><br><span class="line"> </span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">G</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">char</span> ch[<span class="number">17</span>];  <span class="comment">//17 + 3  20能被4整除</span></span><br><span class="line">    <span class="keyword">int</span> i; <span class="comment">// 4</span></span><br><span class="line">    <span class="keyword">float</span> f; <span class="comment">//4</span></span><br><span class="line">&#125;su;  <span class="comment">// 大小为28</span></span><br><span class="line"> </span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">H</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">char</span>  a;  <span class="comment">//1 +1</span></span><br><span class="line">    <span class="keyword">short</span> b;   <span class="comment">//2</span></span><br><span class="line">    <span class="keyword">char</span>  c;  <span class="comment">//1 +3</span></span><br><span class="line">    <span class="keyword">int</span>   d;  <span class="comment">//4</span></span><br><span class="line">    <span class="keyword">char</span>  e[<span class="number">3</span>]; <span class="comment">//3 +1</span></span><br><span class="line">&#125;;   <span class="comment">// 大小为16</span></span><br></pre></td></tr></table></figure>

<h3 id="共用体"><a href="#共用体" class="headerlink" title="共用体"></a>共用体</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">IP转整形：</span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">union</span> IP &#123;</span><br><span class="line">    <span class="keyword">unsigned</span> <span class="keyword">int</span> num;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> &#123;</span></span><br><span class="line">        <span class="keyword">unsigned</span> <span class="keyword">char</span> a1;</span><br><span class="line">        <span class="keyword">unsigned</span> <span class="keyword">char</span> a2;</span><br><span class="line">        <span class="keyword">unsigned</span> <span class="keyword">char</span> a3;</span><br><span class="line">        <span class="keyword">unsigned</span> <span class="keyword">char</span> a4;</span><br><span class="line">    &#125;ip;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    IP p;</span><br><span class="line">    <span class="keyword">char</span> str[<span class="number">25</span>];</span><br><span class="line">    <span class="keyword">int</span> a, b ,c, d;</span><br><span class="line">    <span class="keyword">int</span> arr[<span class="number">4</span>];</span><br><span class="line">    <span class="keyword">while</span>(~<span class="built_in">scanf</span>(<span class="string">"%s"</span>, str)) &#123;</span><br><span class="line">        <span class="built_in">sscanf</span>(str, <span class="string">"%d.%d.%d.%d"</span>, arr , arr + <span class="number">1</span>, arr + <span class="number">2</span>, arr + <span class="number">3</span> );</span><br><span class="line">        p.ip.a1 = arr[<span class="number">0</span>];</span><br><span class="line">        p.ip.a2 = arr[<span class="number">1</span>];</span><br><span class="line">        p.ip.a3 = arr[<span class="number">2</span>];</span><br><span class="line">        p.ip.a4 = arr[<span class="number">3</span>];</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%d\n"</span>,  p.num);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="共用体的大小与内存对齐"><a href="#共用体的大小与内存对齐" class="headerlink" title="共用体的大小与内存对齐"></a>共用体的大小与内存对齐</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">union</span> sample</span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">short</span> i; <span class="comment">//2</span></span><br><span class="line">	<span class="keyword">char</span> ch; <span class="comment">//1</span></span><br><span class="line">	<span class="keyword">float</span> f; <span class="comment">//4</span></span><br><span class="line">	<span class="keyword">union</span> MyUnion</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">char</span> ch;</span><br><span class="line">	&#125;;</span><br><span class="line">&#125;s;  <span class="comment">// 大小为4</span></span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="keyword">union</span> uu</span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">int</span> a;  <span class="comment">//4</span></span><br><span class="line">	<span class="keyword">short</span> b;  <span class="comment">//2</span></span><br><span class="line">	<span class="keyword">int</span> c; <span class="comment">//4</span></span><br><span class="line">&#125;s1; <span class="comment">// 大小为4</span></span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="keyword">union</span> sample2</span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">char</span> ch[<span class="number">10</span>]; </span><br><span class="line">	<span class="keyword">int</span> i; <span class="comment">//4</span></span><br><span class="line">	<span class="keyword">float</span> f; <span class="comment">//4</span></span><br><span class="line">&#125;s2;  <span class="comment">//大小为12</span></span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="keyword">union</span> u1 </span><br><span class="line">&#123; </span><br><span class="line">	<span class="keyword">char</span> arr[<span class="number">4</span>]; <span class="comment">//4</span></span><br><span class="line">	<span class="keyword">int</span> n; <span class="comment">// 4</span></span><br><span class="line">	<span class="keyword">double</span> d; <span class="comment">// 8</span></span><br><span class="line">&#125;;  <span class="comment">//大小为8</span></span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="keyword">union</span> u2 </span><br><span class="line">&#123; </span><br><span class="line">	<span class="keyword">char</span> arr[<span class="number">10</span>];  <span class="comment">// 10 + 6 满足能被8整除</span></span><br><span class="line">	<span class="keyword">int</span> n; <span class="comment">//4</span></span><br><span class="line">	<span class="keyword">double</span> d;  <span class="comment">//8</span></span><br><span class="line">&#125;;  <span class="comment">//大小为16</span></span><br></pre></td></tr></table></figure>

<p><img src="./%E5%9B%BE%E7%89%87/%E5%85%B1%E7%94%A8%E4%BD%93%E5%86%85%E5%AD%98.png" alt=""></p>

      
      <!-- reward -->
      
    </div>
    
    
      <!-- copyright -->
      
    <footer class="article-footer">
      
      

    </footer>

  </div>

  

  
  
  

  

</article>
    
    <article id="post-Mynotes/计算机网络/运输层协议" class="article article-type-post" itemscope
  itemprop="blogPost" data-scroll-reveal>

  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2020/05/14/Mynotes/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/%E8%BF%90%E8%BE%93%E5%B1%82%E5%8D%8F%E8%AE%AE/"
    >Mynotes/计算机网络/运输层协议</a> 
</h2>
 

    </header>
    

    
    <div class="article-meta">
      <a href="/2020/05/14/Mynotes/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/%E8%BF%90%E8%BE%93%E5%B1%82%E5%8D%8F%E8%AE%AE/" class="article-date">
  <time datetime="2020-05-13T18:05:21.901Z" itemprop="datePublished">2020-05-13</time>
</a>
      
      
      
      
    </div>
    

    

    
    <div class="article-entry" itemprop="articleBody">
      
      

      
      <h1 id="运输层协议"><a href="#运输层协议" class="headerlink" title="运输层协议"></a>运输层协议</h1><p><img src="http://ww1.sinaimg.cn/large/006Uqzbtly1gefaccibm8j30fy07pacf.jpg" alt="image.png"></p>
<p>IP交互转换为进程间的传输</p>
<h2 id="可靠传输原理"><a href="#可靠传输原理" class="headerlink" title="可靠传输原理"></a>可靠传输原理</h2><p><img src="http://ww1.sinaimg.cn/large/006Uqzbtly1gefal38r97j30u10guqac.jpg" alt="image.png"></p>

      
      <!-- reward -->
      
    </div>
    
    
      <!-- copyright -->
      
    <footer class="article-footer">
      
      

    </footer>

  </div>

  

  
  
  

  

</article>
    
    <article id="post-Mynotes/计算机网络/计算机网络概要" class="article article-type-post" itemscope
  itemprop="blogPost" data-scroll-reveal>

  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2020/05/14/Mynotes/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E6%A6%82%E8%A6%81/"
    >Mynotes/计算机网络/计算机网络概要</a> 
</h2>
 

    </header>
    

    
    <div class="article-meta">
      <a href="/2020/05/14/Mynotes/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E6%A6%82%E8%A6%81/" class="article-date">
  <time datetime="2020-05-13T18:05:21.901Z" itemprop="datePublished">2020-05-13</time>
</a>
      
      
      
      
    </div>
    

    

    
    <div class="article-entry" itemprop="articleBody">
      
      

      
      <h1 id="计算机网络概要"><a href="#计算机网络概要" class="headerlink" title="计算机网络概要"></a>计算机网络概要</h1><h2 id="计算机网络概论与OSI七层模型"><a href="#计算机网络概论与OSI七层模型" class="headerlink" title="计算机网络概论与OSI七层模型"></a>计算机网络概论与OSI七层模型</h2><h3 id="计算机网络大致的模型化："><a href="#计算机网络大致的模型化：" class="headerlink" title="计算机网络大致的模型化："></a>计算机网络大致的模型化：</h3><p><img src="%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E6%A6%82%E8%A6%81.assets/2020-03-24%2008-50-06%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE.png" alt=""></p>
<p><code>ISP:互联网服务提供商(Internet Service Provider)</code></p>
<p>家庭网络:在网络的边缘(端系统)</p>
<p>公司网络:在网络的边缘(端系统)</p>
<p>移动网络:在网络的边缘(端系统)</p>
<p>主要是路由器交换机；</p>
<h3 id="如何接入互联网"><a href="#如何接入互联网" class="headerlink" title="如何接入互联网"></a>如何接入互联网</h3><p>(一)、<code>DSL</code>网</p>
<p><img src="%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E6%A6%82%E8%A6%81.assets/2020-03-24%2008-54-51%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE.png" alt=""></p>
<p><code>DSL</code>（Digital Subscriber Line）的中文名是数字用户线路，是以电话线为<a href="https://baike.baidu.com/item/传输介质/5538029" target="_blank" rel="noopener">传输介质</a>的传输技术组合。</p>
<p>(二)、<code>HFC</code>网</p>
<p><code>HFC</code>(Hybrid Fiber－Coaxial)网即混合光纤同轴网络，是以光纤为骨干网络，同轴电缆为分支网络的高带宽网络，传输速率可达20 Mb/s以上, 主要流行发达的国家；</p>
<p><img src="%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E6%A6%82%E8%A6%81.assets/2020-03-24%2009-00-07%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE.png" alt=""></p>
<p>(三)、<code>FTTH</code>光纤到户</p>
<p>光纤到户（Fibre (Fiber) To The Home，FTTH）是一种<a href="https://baike.baidu.com/item/光纤通信" target="_blank" rel="noopener">光纤通信</a>的传输方法。</p>
<p><img src="%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E6%A6%82%E8%A6%81.assets/2020-03-24%2009-02-26%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE.png" alt=""></p>
<p>(四)、以太网</p>
<p>以太网是一种<a href="https://baike.baidu.com/item/计算机" target="_blank" rel="noopener">计算机</a><a href="https://baike.baidu.com/item/局域网" target="_blank" rel="noopener">局域网</a>技术。(主要用在机构，学校..)</p>
<p><img src="%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E6%A6%82%E8%A6%81.assets/2020-03-24%2009-03-39%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE.png" alt=""></p>
<h3 id="OSI七层参考模型"><a href="#OSI七层参考模型" class="headerlink" title="OSI七层参考模型"></a>OSI七层参考模型</h3><p><img src="%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E6%A6%82%E8%A6%81.assets/2020-03-24%2009-06-52%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE.png" alt=""></p>
<p>哪些协议与设备？重点</p>
<p><img src="%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E6%A6%82%E8%A6%81.assets/2020-03-24%2009-10-33%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE.png" alt=""></p>
<p><img src="%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E6%A6%82%E8%A6%81.assets/2020-03-24%2009-10-57%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE.png" alt=""></p>
<h3 id="封装"><a href="#封装" class="headerlink" title="封装"></a>封装</h3><p><img src="%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E6%A6%82%E8%A6%81.assets/2020-03-24%2009-14-42%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE.png" alt=""></p>
<h3 id="网络协议组成的三要素"><a href="#网络协议组成的三要素" class="headerlink" title="网络协议组成的三要素"></a>网络协议组成的三要素</h3><ul>
<li>语法</li>
<li>语义</li>
<li>同步</li>
</ul>
<h2 id="分组交换"><a href="#分组交换" class="headerlink" title="分组交换"></a>分组交换</h2><p>(分组)将报文进行切片</p>
<p><img src="%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E6%A6%82%E8%A6%81.assets/2020-03-24%2009-20-32%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE.png" alt=""></p>
<h3 id="存储转发机制"><a href="#存储转发机制" class="headerlink" title="存储转发机制"></a>存储转发机制</h3><p><img src="%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E6%A6%82%E8%A6%81.assets/2020-03-24%2009-21-37%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE.png" alt=""></p>
<h3 id="排队时延和分组丢失"><a href="#排队时延和分组丢失" class="headerlink" title="排队时延和分组丢失"></a>排队时延和分组丢失</h3><p><img src="%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E6%A6%82%E8%A6%81.assets/2020-03-24%2009-22-18%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE.png" alt=""></p>
<p>丢包的引起：排队已经满了, 满了之后就引起丢包，A,B发的数据大量积压在路由器上<code>1.5Mbps</code></p>
<h2 id="电路交换"><a href="#电路交换" class="headerlink" title="电路交换"></a>电路交换</h2><p><img src="http://ww1.sinaimg.cn/large/006Uqzbtly1geeabuvju5j30pz0bkadz.jpg" alt="image.png"></p>
<p>分组网络，分享带宽，电路交换更安全</p>
<h2 id="吞吐量"><a href="#吞吐量" class="headerlink" title="吞吐量"></a>吞吐量</h2><p><img src="http://ww1.sinaimg.cn/large/006Uqzbtly1geeaj2votej30pw0aq0uq.jpg" alt="image.png"></p>

      
      <!-- reward -->
      
    </div>
    
    
      <!-- copyright -->
      
    <footer class="article-footer">
      
      

    </footer>

  </div>

  

  
  
  

  

</article>
    
    <article id="post-Mynotes/计算机网络/网络层协议" class="article article-type-post" itemscope
  itemprop="blogPost" data-scroll-reveal>

  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2020/05/14/Mynotes/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/%E7%BD%91%E7%BB%9C%E5%B1%82%E5%8D%8F%E8%AE%AE/"
    >Mynotes/计算机网络/网络层协议</a> 
</h2>
 

    </header>
    

    
    <div class="article-meta">
      <a href="/2020/05/14/Mynotes/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/%E7%BD%91%E7%BB%9C%E5%B1%82%E5%8D%8F%E8%AE%AE/" class="article-date">
  <time datetime="2020-05-13T18:05:21.900Z" itemprop="datePublished">2020-05-13</time>
</a>
      
      
      
      
    </div>
    

    

    
    <div class="article-entry" itemprop="articleBody">
      
      

      
      <h1 id="网络层协议"><a href="#网络层协议" class="headerlink" title="网络层协议"></a>网络层协议</h1><h2 id="网络层概述"><a href="#网络层概述" class="headerlink" title="网络层概述"></a>网络层概述</h2><p><img src="http://ww1.sinaimg.cn/large/006Uqzbtly1gej34l6f1xj31930qx4gp.jpg" alt="image.png"></p>
<p><img src="http://ww1.sinaimg.cn/large/006Uqzbtly1gej373mdotj31ax0qu4dn.jpg" alt="image.png"></p>
<p><img src="http://ww1.sinaimg.cn/large/006Uqzbtly1gej38ani9vj30k20a3q7r.jpg" alt="image.png"></p>
<h2 id="转发"><a href="#转发" class="headerlink" title="转发"></a>转发</h2><p><img src="http://ww1.sinaimg.cn/large/006Uqzbtly1gehsznz5mtj30ol03adj8.jpg" alt="image.png"></p>
<h2 id="路由选择"><a href="#路由选择" class="headerlink" title="路由选择"></a>路由选择</h2><p><img src="http://ww1.sinaimg.cn/large/006Uqzbtly1geht0lxsz8j30q201y0tw.jpg" alt="image.png"></p>
<p><img src="http://ww1.sinaimg.cn/large/006Uqzbtly1geht4g6v0cj30qo0f3ah9.jpg" alt="image.png"></p>
<h2 id="一个简单的虚电路网络"><a href="#一个简单的虚电路网络" class="headerlink" title="一个简单的虚电路网络"></a>一个简单的虚电路网络</h2><p><img src="http://ww1.sinaimg.cn/large/006Uqzbtly1gehtdjymw5j30pf0ae78i.jpg" alt="image.png"></p>
<p><img src="http://ww1.sinaimg.cn/large/006Uqzbtly1gej3y4ul9zj31h20nxawl.jpg" alt="image.png"></p>
<h2 id="虚电路建立"><a href="#虚电路建立" class="headerlink" title="虚电路建立"></a>虚电路建立</h2><p><img src="http://ww1.sinaimg.cn/large/006Uqzbtly1gehtdzyd5vj30mk087tep.jpg" alt="image.png"></p>
<h2 id="数据报网络"><a href="#数据报网络" class="headerlink" title="数据报网络"></a>数据报网络</h2><p><img src="http://ww1.sinaimg.cn/large/006Uqzbtly1gej40p09v9j31g80naqqa.jpg" alt="image.png"></p>
<p><img src="http://ww1.sinaimg.cn/large/006Uqzbtly1gehtetrx9hj30qh08xdkv.jpg" alt="image.png"></p>
<p><img src="http://ww1.sinaimg.cn/large/006Uqzbtly1gehtf8wcqjj30i50f9q8d.jpg" alt="image.png"></p>
<p><img src="http://ww1.sinaimg.cn/large/006Uqzbtly1gej41g0728j31dq0kb16q.jpg" alt="image.png"></p>
<h2 id="路由选择协议概述"><a href="#路由选择协议概述" class="headerlink" title="路由选择协议概述"></a>路由选择协议概述</h2><p><img src="http://ww1.sinaimg.cn/large/006Uqzbtly1gej480h9isj30o50a6tez.jpg" alt="image.png"></p>
<p><img src="http://ww1.sinaimg.cn/large/006Uqzbtly1gej4aap4gyj30pu0c40xj.jpg" alt="image.png"></p>
<h2 id="路由器"><a href="#路由器" class="headerlink" title="路由器"></a>路由器</h2><p><img src="http://ww1.sinaimg.cn/large/006Uqzbtly1gehtgi19poj30lx09bwim.jpg" alt="image.png"></p>
<h3 id="输入端口"><a href="#输入端口" class="headerlink" title="输入端口"></a>输入端口</h3><p><img src="http://ww1.sinaimg.cn/large/006Uqzbtly1gehtievlmqj30pm07h40e.jpg" alt="image.png"></p>
<p>数据链路处理：数据拆分</p>
<p>###　交换结构</p>
<p><img src="http://ww1.sinaimg.cn/large/006Uqzbtly1gehtp3qcuaj30og07qwic.jpg" alt="image.png"> </p>
<p>内存:速度慢，cpu性能，不稳定枷锁…</p>
<p>纵横式:独立控制，减少冲突，高端</p>
<h3 id="输出端口"><a href="#输出端口" class="headerlink" title="输出端口"></a>输出端口</h3><p><img src="http://ww1.sinaimg.cn/large/006Uqzbtly1gehtmqtnfmj30p907hdhj.jpg" alt="image.png"></p>
<h2 id="网络层主要三块"><a href="#网络层主要三块" class="headerlink" title="网络层主要三块"></a>网络层主要三块</h2><p><img src="/home/fangsong/.config/Typora/typora-user-images/image-20200505200636360.png" alt="image-20200505200636360"></p>
<h2 id="IP数据报"><a href="#IP数据报" class="headerlink" title="IP数据报"></a>IP数据报</h2><p><img src="http://ww1.sinaimg.cn/large/006Uqzbtly1gehu8qforuj30zk0k0dh9.jpg" alt="undefined"></p>
<p><img src="http://ww1.sinaimg.cn/large/006Uqzbtly1gehue96y5yj30zk0k0di4.jpg" alt="undefined"></p>
<h2 id="网络地址转换"><a href="#网络地址转换" class="headerlink" title="网络地址转换"></a>网络地址转换</h2><p>局域网ip之所以能进行通信，在于网络转换…</p>
<p>网络地址转换是干什么的?</p>
<p><img src="http://ww1.sinaimg.cn/large/006Uqzbtly1gehun1frplj30ru0ecjvw.jpg" alt="image.png"></p>
<p>NAT右边10.0.0.1等是局域网，靠近局域网10.0.0.4是个路由器，如果要进行通信,在NAT转换表加一记录</p>
<h2 id="ICMP协议"><a href="#ICMP协议" class="headerlink" title="ICMP协议"></a>ICMP协议</h2><p><img src="http://ww1.sinaimg.cn/large/006Uqzbtly1gehuyq8dvfj30on04rwgd.jpg" alt="image.png"></p>
<h3 id="ICMP报文类型"><a href="#ICMP报文类型" class="headerlink" title="ICMP报文类型"></a>ICMP报文类型</h3><p><img src="http://ww1.sinaimg.cn/large/006Uqzbtly1gehv0xmab7j30db0apn1k.jpg" alt="image.png"></p>
<h2 id="自制系统间的路由选择BGP"><a href="#自制系统间的路由选择BGP" class="headerlink" title="自制系统间的路由选择BGP"></a>自制系统间的路由选择BGP</h2><p><img src="http://ww1.sinaimg.cn/large/006Uqzbtly1gehwbjts0sj30oq08ptdp.jpg" alt="image.png"></p>
<p>将自制系统连接</p>
<p><img src="http://ww1.sinaimg.cn/large/006Uqzbtly1gej4vdwpz1j30pa0bu447.jpg" alt="image.png"></p>

      
      <!-- reward -->
      
    </div>
    
    
      <!-- copyright -->
      
    <footer class="article-footer">
      
      

    </footer>

  </div>

  

  
  
  

  

</article>
    
    <article id="post-Mynotes/计算机网络/网络基础" class="article article-type-post" itemscope
  itemprop="blogPost" data-scroll-reveal>

  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2020/05/14/Mynotes/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80/"
    >Mynotes/计算机网络/网络基础</a> 
</h2>
 

    </header>
    

    
    <div class="article-meta">
      <a href="/2020/05/14/Mynotes/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80/" class="article-date">
  <time datetime="2020-05-13T18:05:21.900Z" itemprop="datePublished">2020-05-13</time>
</a>
      
      
      
      
    </div>
    

    

    
    <div class="article-entry" itemprop="articleBody">
      
      

      
      <h2 id="协议"><a href="#协议" class="headerlink" title="协议"></a>协议</h2><ul>
<li><p>语法</p>
</li>
<li><p>语义</p>
</li>
<li><p>同步：以什么样的事件发生的</p>
<pre><code>一组规则.</code></pre><p> <img src="https://img-blog.csdnimg.cn/20200421094156666.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzNTIxNjcw,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>
<h2 id="分层模型结构"><a href="#分层模型结构" class="headerlink" title="分层模型结构"></a>分层模型结构</h2><pre><code>OSI七层模型：　物，数，网，传，会，表，应
TCP/IP 4层模型：网(链路层)、网、　传、　应。
                 应用层：http、ftp、nfs、ssh、telenet...
                 传输层: TCP、UDP
                 网络层: IP、ICMP、IGMP
                 链路层: 以太网帧协议、ARP</code></pre><p><img src="https://img-blog.csdnimg.cn/20200421095531671.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzNTIxNjcw,size_16,color_FFFFFF,t_70" alt="osi模型"></p>
<h2 id="c-s模型"><a href="#c-s模型" class="headerlink" title="c/s模型"></a>c/s模型</h2><p><code>client-server</code></p>
</li>
</ul>
<h2 id="b-s模型"><a href="#b-s模型" class="headerlink" title="b/s模型"></a>b/s模型</h2><p><code>browser-server</code></p>
<pre><code>                                                C/S                                　　            　        B/S
优点：　　　　缓存大量的数据、协议灵活，　　　　　安全性、跨平台、开发工作量较小
　　　　　　　自定义、速度快。

缺点：　　　　安全性　　　　　　　　　　　　　　　不能大量缓存大量数据、严格遵守http　　　　　</code></pre><h2 id="网络传输流程"><a href="#网络传输流程" class="headerlink" title="网络传输流程"></a>网络传输流程</h2><pre><code>数据没有封装之前，是不能进行传输的</code></pre><p><img src="https://img-blog.csdnimg.cn/2020042110014481.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzNTIxNjcw,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br><img src="https://img-blog.csdnimg.cn/20200421100351159.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzNTIxNjcw,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>
<h2 id="IP协议"><a href="#IP协议" class="headerlink" title="IP协议"></a>IP协议</h2><pre><code>IPv4, IPv6
TTL: time to live .设置数据包在路由器结点中的跳转上线。没经过一个路由结点，该值-1，减为0的路由，有义务将其数据包丢弃
源IP: 32位。---4字节。192.168.1.108 -- 点分十进制 IP地址(string) -- 二进制
目的IP: 32位。---４字节</code></pre><p>[video(video-z69PfkbT-1587434876097)(type-bilibili)(url-<a href="https://player.bilibili.com/player.html?aid=75555742&amp;page=7)(image-https://ss.csdn.net/p?http://i1.hdslb.com/bfs/archive/647c37c7f82ae6c060940551c4f17c4f7a8c9566.jpg)(title-IP协议视频-bilibili)]" target="_blank" rel="noopener">https://player.bilibili.com/player.html?aid=75555742&amp;page=7)(image-https://ss.csdn.net/p?http://i1.hdslb.com/bfs/archive/647c37c7f82ae6c060940551c4f17c4f7a8c9566.jpg)(title-IP协议视频-bilibili)]</a></p>
<h2 id="UDP"><a href="#UDP" class="headerlink" title="UDP"></a>UDP</h2><p>丢包不处理</p>
<ul>
<li><p>不提供必要的服务轻量级运输服务</p>
</li>
<li><p>不可靠的数据传输</p>
<pre><code>16位：源端口号　2^16=65536
16位：目的端口号
IP地址：　可以在网络环境中标示一台主机
端口号:　   可以在网络的一台主机上，唯一标识别一个进程
IP地址＋端口号: 可以在网络环境中，唯一标识别一个进程
8080,8888</code></pre><h2 id="TCP"><a href="#TCP" class="headerlink" title="TCP"></a>TCP</h2></li>
</ul>
<p>丢包重传</p>
<ul>
<li><p>面向连接的服务</p>
</li>
<li><p>可靠地数据传输</p>
<pre><code>16位：源端口号    2^16=65536
16位:   目的端口号.
32位序号
32位确认序号　//发送到
6个标志位。
16位窗口大小。2^16=65536</code></pre></li>
</ul>

      
      <!-- reward -->
      
    </div>
    
    
      <!-- copyright -->
      
    <footer class="article-footer">
      
      

    </footer>

  </div>

  

  
  
  

  

</article>
    
    <article id="post-Mynotes/计算机网络/计算机网络习题" class="article article-type-post" itemscope
  itemprop="blogPost" data-scroll-reveal>

  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2020/05/14/Mynotes/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E4%B9%A0%E9%A2%98/"
    >Mynotes/计算机网络/计算机网络习题</a> 
</h2>
 

    </header>
    

    
    <div class="article-meta">
      <a href="/2020/05/14/Mynotes/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E4%B9%A0%E9%A2%98/" class="article-date">
  <time datetime="2020-05-13T18:05:21.900Z" itemprop="datePublished">2020-05-13</time>
</a>
      
      
      
      
    </div>
    

    

    
    <div class="article-entry" itemprop="articleBody">
      
      

      
      <ol>
<li>UDP协议提供可靠传输机制。</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">正确</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">错误　√</span><br></pre></td></tr></table></figure>

<blockquote>
<p>解析：错误</p>
<p>TCP：提供可靠的服务；通过TCP连接传送的数据，无差错，不丢失，不重复，且按序到达；</p>
<p>UDP：尽最大努力交付，即不保证可靠交付；在传输层UDP是不可靠的连接，那就要在应用层自己实现一些保障可靠传输的机制</p>
</blockquote>
<p>　</p>
<ol start="2">
<li><p>调制解调技术主要用于下列哪种数据通信中（B ）</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">模拟信号传输模拟数据</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">模拟信号传输数字数据</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">数字信号传输数字数据</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">数字信号传输模拟信号</span><br></pre></td></tr></table></figure>

</li>
</ol>
<blockquote>
<p>解析：</p>
<p>调制：数字信号转变为模拟信号；</p>
<p>解调：模拟信号转变为数字信号。</p>
</blockquote>
<ol start="3">
<li>下列地址中哪些是私有地址 C  </li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">172.32.0.1</span><br><span class="line">172.0.0.1</span><br><span class="line">172.16.0.255</span><br><span class="line">172.15.255.255</span><br></pre></td></tr></table></figure>

<blockquote>
<p>解析：</p>
<p>私有地址如下：</p>
<p>A类：<strong>10</strong>.<strong>0</strong>.0.0到<strong>10.255</strong>.255.255</p>
<p>B类：<strong>172.16</strong>.0.0到<strong>172.31</strong>.255.255</p>
<p>C类：<strong>192.168.</strong>0.0到<strong>192.168</strong>.255.255</p>
</blockquote>
<ol start="4">
<li><p>在计算机网络中，能将异种网络互联起来，实现不同网络协议相互转换的网络互连设备是（  ）。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">局域网交换机</span><br><span class="line">集线器</span><br><span class="line">路由器</span><br><span class="line">网关</span><br></pre></td></tr></table></figure>

<blockquote>
<p>解析：网关</p>
<p>网关：</p>
<p>能将异种网络互联起来，实现不同网络协议的相互转换。</p>
<p>网关和路由器最大的区别：是否连接相似的网络。</p>
<p>如果连接相似的网络，则称为路由器。而连接不相似的网络，称为网关。</p>
</blockquote>
</li>
<li><p>当在浏览器输入<a href="http://www.jd.com后，执行过程描述有误的是哪个？" target="_blank" rel="noopener">http://www.jd.com后，执行过程描述有误的是哪个？</a></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">客户端浏览器通过DNS解析到www.jd.com的ip地址，通过ip地址找到客户端对应的服务器地址，客户端发起HTTP会话到IP，通过tcp进行封装数据包，输入到网络层</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">在客户端的网络层，把http会话请求分成报文段，添加源地址和目的地址</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">客户端的网络层主要通过查找路由确定到达服务器</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">数据包通过链路层发送到路由器，通过邻居协议查找给定ip地址的mac地址，然后发送ARR请求查找目的地址，得到回应就可以使用ARR的请求应答交换的IP数据包，发送IP数据包到达服务器地址</span><br></pre></td></tr></table></figure>

</li>
</ol>
<blockquote>
<p>解析：Ｂ</p>
<p>在客户端的<strong>传输层</strong>，把HTTP会话请求分成报文段，添加源和目的端口</p>
</blockquote>
<ol start="6">
<li><p>提高链路速率可以减少数据的（ ）。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">传播时延</span><br><span class="line">排队时延</span><br><span class="line">等待时延</span><br><span class="line">发送时延</span><br></pre></td></tr></table></figure>

<blockquote>
<p>解析：Ｄ</p>
<p>对于高速网络链路，我们提高的仅仅是数据的发送速率而不是比特在链路上的传播速率。</p>
<p>提高链路带宽减小了数据的发送时延。 </p>
<p>总时延 = 发送时延+传播时延+处理时延+排队时延</p>
</blockquote>
</li>
<li><p>下列关于IP地址和域名的关系，说法错误的是（　AD　）</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">一台主机通常只有一个IP地址</span><br><span class="line">一台主机通常可以有多个域名</span><br><span class="line">主机移到另一网络时其IP地址需改变</span><br><span class="line">主机移到另一网络时域名必须改变</span><br></pre></td></tr></table></figure>

</li>
</ol>
<blockquote>
<p>解析：AD</p>
<p>一台主机通常只有一个IP地址是不对的<br>比如你现在正在用的笔记本，里面有两个网卡，一个有线网卡，一个无线网卡。<br>你从有线切换到无线时，IP地址也变了。</p>
<p>甚至你用的电信的宽带，你测一下自己的IP，断开重连一下，IP地址变了。</p>
</blockquote>
<p>8.10.1.0.1/17的广播地址是（ ）</p>
<ul>
<li><pre><code>10.1.128.255
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">-</span><br></pre></td></tr></table></figure>
10.1.63.255
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">-</span><br></pre></td></tr></table></figure>
10.1.127.255
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">-</span><br></pre></td></tr></table></figure>
10.1.126.255
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">&gt; 解析:</span><br><span class="line">&gt;</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure>
&gt; 首先广播地址即是主机号全为1.
&gt; 
&gt; 10.1.0.1/17化为二进制为
&gt; 
&gt; 00001010  00000001  00000000  00000001后15为全为1
&gt; 即为：
&gt; 00001010  00000001  01111111  11111111
&gt; 就是10.1.127.255
&gt; <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">9. 一主机IP地址为192.168.1.1，子网掩码为255.255.255.248，则该主机所在网络能够连接的主机数量总共为_ 台。 </span><br></pre></td></tr></table></figure>
7
6
5
不能确定
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">&gt;解析：　６</span><br><span class="line">&gt;</span><br><span class="line">&gt;256-248=8 8-2(全0全1不可用)=6 1111 1001~1111 1110可用</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&gt;bps（bits per second），即比特率、比特/秒、位/秒、每秒传送位数，[数据传输速率](https://baike.baidu.com/item/数据传输速率)的常用单位；</span><br><span class="line">&gt;</span><br><span class="line">&gt;Bps (Bytes per second), 即字节每秒，因为一字节对应八比特，所以1 Bps = 8bps；</span><br><span class="line"></span><br><span class="line">10. 下面关于ISO网络参考模型分层及每一层功能描述错误的有？</span><br></pre></td></tr></table></figure>
物理层，在此层将数据分帧，并处理流控制
数据链路层，为物理层提供连接，以便透明的传送比特流
网络层，本层通过寻址来建立两个节点之间的连接，为源端的运输层送来的分组，选择合适的路由和交换节点
运输层，常规数据递送－面向连接或无连接
会话层，建立、管理和终止会话。
表示层，主要用于处理两个通信系统中交换信息的表示方式。</code></pre></li>
</ul>
<blockquote>
<p>解析：AB</p>
<p><strong>物理层:</strong>通过媒介传输比特,确定机械及电气规范（比特Bit）</p>
<p> <strong>数据链路层</strong>：将比特组装成帧和点到点的传递（帧Frame）</p>
<p> <strong>网络层</strong>：负责数据包从源到宿的传递和网际互连（包PackeT）</p>
<p> <strong>传输层</strong>：提供端到端的可靠报文传递和错误恢复（段Segment）</p>
<p> <strong>会话层</strong>：建立、管理和终止会话（会话协议数据单元SPDU）</p>
<p> <strong>表示层</strong>：对数据进行翻译、加密和压缩（表示协议数据单元PPDU）</p>
<p> <strong>应用层</strong>：允许访问OSI环境的手段（应用协议数据单元APDU）</p>
</blockquote>

      
      <!-- reward -->
      
    </div>
    
    
      <!-- copyright -->
      
    <footer class="article-footer">
      
      

    </footer>

  </div>

  

  
  
  

  

</article>
    
    <article id="post-Mynotes/计算机网络/数据链路层概述" class="article article-type-post" itemscope
  itemprop="blogPost" data-scroll-reveal>

  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2020/05/14/Mynotes/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/%E6%95%B0%E6%8D%AE%E9%93%BE%E8%B7%AF%E5%B1%82%E6%A6%82%E8%BF%B0/"
    >Mynotes/计算机网络/数据链路层概述</a> 
</h2>
 

    </header>
    

    
    <div class="article-meta">
      <a href="/2020/05/14/Mynotes/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/%E6%95%B0%E6%8D%AE%E9%93%BE%E8%B7%AF%E5%B1%82%E6%A6%82%E8%BF%B0/" class="article-date">
  <time datetime="2020-05-13T18:05:21.899Z" itemprop="datePublished">2020-05-13</time>
</a>
      
      
      
      
    </div>
    

    

    
    <div class="article-entry" itemprop="articleBody">
      
      

      
      <h1 id="数据链路层概述"><a href="#数据链路层概述" class="headerlink" title="数据链路层概述"></a>数据链路层概述</h1><p><img src="http://ww1.sinaimg.cn/large/006Uqzbtly1gekacot1cfj30l50b0djp.jpg" alt="image.png"></p>
<p><img src="http://ww1.sinaimg.cn/large/006Uqzbtly1gekaeecslij30j30avtcj.jpg" alt="image.png"></p>
<p><img src="http://ww1.sinaimg.cn/large/006Uqzbtly1gekahbmt1dj31bz0qoqrn.jpg" alt="image.png"></p>
<h2 id="数据链路层的三个重要问题"><a href="#数据链路层的三个重要问题" class="headerlink" title="数据链路层的三个重要问题"></a>数据链路层的三个重要问题</h2><h3 id="分装成帧"><a href="#分装成帧" class="headerlink" title="分装成帧"></a>分装成帧</h3><p><img src="http://ww1.sinaimg.cn/large/006Uqzbtly1gekajj0rqzj317s0m7tgv.jpg" alt="image.png"></p>
<p><img src="/home/fangsong/.config/Typora/typora-user-images/image-20200507231401026.png" alt="image-20200507231401026"></p>
<p><img src="http://ww1.sinaimg.cn/large/006Uqzbtly1gekakuhymdj31830oowni.jpg" alt="image.png"></p>
<p><img src="http://ww1.sinaimg.cn/large/006Uqzbtly1gekalpszq4j317m0mdjyr.jpg" alt="image.png"></p>
<p><img src="http://ww1.sinaimg.cn/large/006Uqzbtly1gekanlnqlmj30pa05977o.jpg" alt="image.png"></p>
<h3 id="差错检测"><a href="#差错检测" class="headerlink" title="差错检测"></a>差错检测</h3><p><img src="http://ww1.sinaimg.cn/large/006Uqzbtly1gekapjg5hxj316z0os12b.jpg" alt="image.png"></p>
<p><img src="http://ww1.sinaimg.cn/large/006Uqzbtly1gekaqds31vj31710okq97.jpg" alt="image.png"></p>
<h3 id="可靠传输"><a href="#可靠传输" class="headerlink" title="可靠传输"></a>可靠传输</h3><p><img src="http://ww1.sinaimg.cn/large/006Uqzbtly1gekary80loj316i0oqgxc.jpg" alt="image.png"></p>
<h2 id="使用广播信道的数据链路层"><a href="#使用广播信道的数据链路层" class="headerlink" title="使用广播信道的数据链路层"></a>使用广播信道的数据链路层</h2><p>1.为什么B D E 能分清不是传给自己的?</p>
<p><img src="http://ww1.sinaimg.cn/large/006Uqzbtly1gekaugfhztj31ai0motib.jpg" alt="image.png">2.碰撞</p>
<p><img src="http://ww1.sinaimg.cn/large/006Uqzbtly1gekaxar2rbj319g0dtn4x.jpg" alt="image.png"></p>
<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p><img src="http://ww1.sinaimg.cn/large/006Uqzbtly1gekay5tjrkj30ub0njn6c.jpg" alt="image.png"></p>

      
      <!-- reward -->
      
    </div>
    
    
      <!-- copyright -->
      
    <footer class="article-footer">
      
      

    </footer>

  </div>

  

  
  
  

  

</article>
    
    <article id="post-Mynotes/计算机网络/流量控制" class="article article-type-post" itemscope
  itemprop="blogPost" data-scroll-reveal>

  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2020/05/14/Mynotes/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/%E6%B5%81%E9%87%8F%E6%8E%A7%E5%88%B6/"
    >Mynotes/计算机网络/流量控制</a> 
</h2>
 

    </header>
    

    
    <div class="article-meta">
      <a href="/2020/05/14/Mynotes/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/%E6%B5%81%E9%87%8F%E6%8E%A7%E5%88%B6/" class="article-date">
  <time datetime="2020-05-13T18:05:21.899Z" itemprop="datePublished">2020-05-13</time>
</a>
      
      
      
      
    </div>
    

    

    
    <div class="article-entry" itemprop="articleBody">
      
      

      
      <h1 id="流量控制"><a href="#流量控制" class="headerlink" title="流量控制"></a>流量控制</h1><p><img src="http://ww1.sinaimg.cn/large/006Uqzbtly1gefpe9pjhpj30l80al0v0.jpg" alt="image.png"></p>
<p>为了解决上图中的溢出等，从而引入<strong>流量控制</strong></p>
<ul>
<li><p>流量控制(flow control)<font color = red> 让发送方发送速度不要太快，让接收方的来得及接收</font></p>
</li>
<li><p>流量控制的基本方法就是<font color =red>由接收方控制发送方的发送数据的速率</font>.常见的方法有以下两种：</p>
<ul>
<li><font color = red> 停止-等待</font>流量控制</li>
<li><font color =red> 滑动窗口</font>流量控制</li>
</ul>
</li>
</ul>
<p><img src="http://ww1.sinaimg.cn/large/006Uqzbtly1gefpllxuvij31fl0ng7mo.jpg" alt="image.png"></p>
<h2 id="停止-等待流量控制"><a href="#停止-等待流量控制" class="headerlink" title="停止-等待流量控制"></a><font color = red>停止-等待</font>流量控制</h2><p>发送方先发送后停止，当接收方返回信息确认，才可以发送下一帧。<br><img src="http://ww1.sinaimg.cn/large/006Uqzbtly1gefpqiiwayj302q06d74a.jpg" alt="image.png" style="zoom: 80%;" /><img src="http://ww1.sinaimg.cn/large/006Uqzbtly1gefpu1q8szj31g60pwh2c.jpg" alt="image.png"></p>
<h2 id="滑动窗口流量控制"><a href="#滑动窗口流量控制" class="headerlink" title=" 滑动窗口流量控制"></a><font color =red> 滑动窗口</font>流量控制</h2><p><img src="http://ww1.sinaimg.cn/large/006Uqzbtly1gefpxm5bxsj30lf0603yz.jpg" alt="image.png"></p>
<h2 id="二者对比"><a href="#二者对比" class="headerlink" title="二者对比"></a>二者对比</h2><p><img src="http://ww1.sinaimg.cn/large/006Uqzbtly1gefpzl8a1ej31gb0prts7.jpg" alt="image.png"></p>

      
      <!-- reward -->
      
    </div>
    
    
      <!-- copyright -->
      
    <footer class="article-footer">
      
      

    </footer>

  </div>

  

  
  
  

  

</article>
    
  </article>
  

  
  <nav class="page-nav">
    
    <a class="extend prev" rel="prev" href="/page/2/">上一页</a><a class="page-number" href="/">1</a><a class="page-number" href="/page/2/">2</a><span class="page-number current">3</span><a class="page-number" href="/page/4/">4</a><a class="page-number" href="/page/5/">5</a><span class="space">&hellip;</span><a class="page-number" href="/page/9/">9</a><a class="extend next" rel="next" href="/page/4/">下一页</a>
  </nav>
  
</section>
</div>

      <footer class="footer">
  <div class="outer">
    <ul class="list-inline">
      <li>
        &copy;
        2015-2020
        fangsong
      </li>
      <li>
        
      </li>
    </ul>
    <ul class="list-inline">
      <li>
        
        
        <span>
  <i>PV:<span id="busuanzi_value_page_pv"></span></i>
  <i>UV:<span id="busuanzi_value_site_uv"></span></i>
</span>
        
      </li>
      
      <li>
        <!-- cnzz统计 -->
        
        <script type="text/javascript" src='https://s9.cnzz.com/z_stat.php?id=1278069914&amp;web_id=1278069914'></script>
        
      </li>
    </ul>
  </div>
</footer>
      <div class="float_btns">
        <div class="totop" id="totop">
  <i class="ri-arrow-up-line"></i>
</div>

<div class="todark" id="todark">
  <i class="ri-moon-line"></i>
</div>

      </div>
    </main>
    <aside class="sidebar on">
      <button class="navbar-toggle"></button>
<nav class="navbar">
  
  <div class="logo">
    <a href="/"><img src="/images/ayer-side.svg" alt="恁村扛把子"></a>
  </div>
  
  <ul class="nav nav-main">
    
    <li class="nav-item">
      <a class="nav-item-link" href="/">主页</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/archives">归档</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/categories">分类</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/tags">标签</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/2019/about">关于我</a>
    </li>
    
  </ul>
</nav>
<nav class="navbar navbar-bottom">
  <ul class="nav">
    <li class="nav-item">
      
      <a class="nav-item-link nav-item-search"  title="Search">
        <i class="ri-search-line"></i>
      </a>
      
      
      <a class="nav-item-link" target="_blank" href="/atom.xml" title="RSS Feed">
        <i class="ri-rss-line"></i>
      </a>
      
    </li>
  </ul>
</nav>
<div class="search-form-wrap">
  <div class="local-search local-search-plugin">
  <input type="search" id="local-search-input" class="local-search-input" placeholder="Search...">
  <div id="local-search-result" class="local-search-result"></div>
</div>
</div>
    </aside>
    <script>
      if (window.matchMedia("(max-width: 768px)").matches) {
        document.querySelector('.content').classList.remove('on');
        document.querySelector('.sidebar').classList.remove('on');
      }
    </script>
    <div id="mask"></div>

<!-- #reward -->
<div id="reward">
  <span class="close"><i class="ri-close-line"></i></span>
  <p class="reward-p"><i class="ri-cup-line"></i>请我喝杯咖啡吧~</p>
  <div class="reward-box">
    
    <div class="reward-item">
      <img class="reward-img" src="/images/alipay.jpg">
      <span class="reward-type">支付宝</span>
    </div>
    
    
    <div class="reward-item">
      <img class="reward-img" src="/images/wechat.jpg">
      <span class="reward-type">微信</span>
    </div>
    
  </div>
</div>
    <script src="/js/jquery-2.0.3.min.js"></script>
<script src="/js/lazyload.min.js"></script>

<script>
  try {
    var typed = new Typed("#subtitle", {
      strings: ['面朝大海，春暖花开', '愿你一生努力，一生被爱', '想要的都拥有，得不到的都释怀'],
      startDelay: 0,
      typeSpeed: 200,
      loop: true,
      backSpeed: 100,
      showCursor: true
    });
  } catch (err) {
  }

</script>





<script src="https://cdn.jsdelivr.net/npm/jquery-modal@0.9.2/jquery.modal.min.js"></script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/jquery-modal@0.9.2/jquery.modal.min.css">
<script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js"></script>
<script src="/dist/main.js"></script>


<!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    <!-- Background of PhotoSwipe. 
         It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>

    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">

        <!-- Container that holds slides. 
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                <!--  Controls are self-explanatory. Order can be changed. -->

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" style="display:none" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
                <!-- element will get class pswp__preloader--active when preloader is running -->
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div>

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css">
<script src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js"></script>

<script>
    function viewer_init() {
        let pswpElement = document.querySelectorAll('.pswp')[0];
        let $imgArr = document.querySelectorAll(('.article-entry img:not(.reward-img)'))

        $imgArr.forEach(($em, i) => {
            $em.onclick = () => {
                // slider展开状态
                // todo: 这样不好，后面改成状态
                if (document.querySelector('.left-col.show')) return
                let items = []
                $imgArr.forEach(($em2, i2) => {
                    let img = $em2.getAttribute('data-idx', i2)
                    let src = $em2.getAttribute('data-target') || $em2.getAttribute('src')
                    let title = $em2.getAttribute('alt')
                    // 获得原图尺寸
                    const image = new Image()
                    image.src = src
                    items.push({
                        src: src,
                        w: image.width || $em2.width,
                        h: image.height || $em2.height,
                        title: title
                    })
                })
                var gallery = new PhotoSwipe(pswpElement, PhotoSwipeUI_Default, items, {
                    index: parseInt(i)
                });
                gallery.init()
            }
        })
    }
    viewer_init()
</script>


<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
      tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
          processEscapes: true,
          skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
      }
  });

  MathJax.Hub.Queue(function() {
      var all = MathJax.Hub.getAllJax(), i;
      for(i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
      }
  });
</script>

<script src="https://cdn.jsdelivr.net/npm/mathjax@2.7.6/unpacked/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
<script>
  var ayerConfig = {
    mathjax: true
  }
</script>



<script src="/js/busuanzi-2.3.pure.min.js"></script>


<script type="text/javascript" src="https://js.users.51.la/20544303.js"></script>

  <script src="/js/clickLove.js"></script>


    
    <div id="music">
    
    
    
    <iframe frameborder="no" border="1" marginwidth="0" marginheight="0" width="200" height="52"
        src="//music.163.com/outchain/player?type=2&id=436514312&auto=1&height=32"></iframe>
</div>

<style>
    #music {
        position: fixed;
        right: 15px;
        bottom: 0;
        z-index: 998;
    }
</style>
    
  </div>
</body>

</html>